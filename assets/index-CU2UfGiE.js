import{o as e}from"./rolldown-runtime-tX5UdD3f.js";import{Ct as t,St as n,Tt as r,bt as i,t as a,vt as o,xt as s,yt as c}from"./vendor-BLq5sYt1.js";import{A as l,C as u,D as d,E as f,F as p,I as m,L as h,M as g,N as _,O as v,P as y,R as b,S as x,T as ee,_ as S,a as te,b as C,c as w,d as ne,f as T,g as re,h as E,i as D,j as ie,k as O,l as ae,m as k,n as oe,o as A,p as j,r as M,s as N,t as P,u as F,v as I,w as se,x as L,y as ce}from"./vendor-react-CvlwSTbo.js";import{n as R,t as z}from"./vendor-framer-C9QQXfWb.js";import{a as B,i as V,n as le,r as ue,t as de}from"./vendor-utils-CGRWDaum.js";import{n as H,r as U,t as W}from"./vendor-markdown-CZy9rcZx.js";import{n as G,t as fe}from"./vendor-ui-PjYFYbn8.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var pe=b(),K=r();const me=[{start:`#a8ff78`,end:`#78ffd6`,name:`Minty Fresh`},{start:`#E0C3FC`,end:`#8EC5FC`,name:`Lavender Bliss`},{start:`#ff9a9e`,end:`#fad0c4`,name:`Peach Sorbet`},{start:`#2193b0`,end:`#6dd5ed`,name:`Cool Blues`},{start:`#ee9ca7`,end:`#ffdde1`,name:`Cherry Blossom`},{start:`#89f7fe`,end:`#66a6ff`,name:`Morning Dew`},{start:`#f6d365`,end:`#fda085`,name:`Spring Warmth`},{start:`#fccb90`,end:`#d57eeb`,name:`Pastel Violet`}];var he=`# There should be a title

This is a **Markdown** to Card converter.

> Blockquotes are also supported.

\`\`\`javascript
console.log('Code blocks work too!');
\`\`\`

---

You can split content into multiple cards using three dashes.

- Feature 1
- Feature 2
- Feature 3`,ge=`# 此处应该有标题

这是一个 **Markdown** 转卡片工具。

> 引用也是支持的。

\`\`\`javascript
console.log('代码块也能完美显示！');
\`\`\`

---

使用三个横杠可以将内容分割成多张卡片。

- 功能 1
- 功能 2
- 功能 3`,_e={fontFamily:`Inter`,backgroundColor:`#ffffff`,textColor:`#000000`,accentColor:`#3b82f6`,aspectRatio:`4:3`,orientation:`portrait`,autoHeight:!1,width:800,height:600,borderRadius:24,borderWidth:0,borderColor:`#000000`,enableBackground:!1,backgroundType:`gradient`,backgroundValue:`linear-gradient(135deg, #d4dcdd 0%, #94b1cc 100%)`,gradientStart:`#d4dcdd`,gradientEnd:`#94b1cc`,gradientAngle:135,backgroundImage:``,backgroundConfig:{x:0,y:0,scale:1,blur:0},padding:40,contentPadding:24,customCSS:``,template:`default`,fontSize:16,h1FontSize:32,h2FontSize:24,h3FontSize:20,headingScale:1,customFonts:[],cardBackgroundType:`solid`,cardGradientStart:`#ffffff`,cardGradientEnd:`#f0f0f0`,cardGradientAngle:135,cardGradientValue:`linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%)`,cardBackgroundImage:``,cardBackgroundConfig:{x:0,y:0,scale:1,blur:0},blockquoteBackgroundColor:`#00000010`,blockquoteBorderColor:`#3b82f6`,codeBackgroundColor:`#00000010`,h1Color:`#000000`,h1LineColor:`#3b82f6`,h2Color:`#ffffff`,h2BackgroundColor:`#3b82f6`,h3Color:`#000000`,h3LineColor:`#3b82f6`,shadowEnabled:!1,shadow:`none`,shadowConfig:{x:2,y:5,blur:15,spread:0,color:`#000000`,opacity:.25},watermark:{enabled:!1,content:`Md2Design`,position:`center`,opacity:.1,fontSize:10},pageNumber:{enabled:!1,position:`center`,opacity:.6,fontSize:10}};const q=n()(s(i(e=>({markdown:ge,setMarkdown:t=>e({markdown:t}),theme:`dark`,toggleTheme:()=>e(e=>{let t=e.theme===`light`?`dark`:`light`;return t===`dark`?document.documentElement.classList.add(`dark`):document.documentElement.classList.remove(`dark`),{theme:t}}),language:`zh`,toggleLanguage:()=>e(e=>{let t=e.language===`en`?`zh`:`en`,n=e.markdown;return e.markdown===he&&t===`zh`?n=ge:e.markdown===ge&&t===`en`&&(n=he),{language:t,markdown:n}}),isScrolled:!1,setIsScrolled:t=>e({isScrolled:t}),activeCardIndex:0,setActiveCardIndex:t=>e({activeCardIndex:t}),cardImages:{},addCardImage:(t,n,r)=>e(e=>{let i=e.cardImages[t]||[],a={id:r||crypto.randomUUID(),src:n,x:50,y:50,width:200,height:200,rotation:0,crop:{x:0,y:0,scale:1}};return{cardImages:{...e.cardImages,[t]:[...i,a]}}}),updateCardImage:(t,n,r)=>e(e=>{let i=e.cardImages[t]||[];return{cardImages:{...e.cardImages,[t]:i.map(e=>e.id===n?{...e,...r}:e)}}}),removeCardImage:(t,n)=>e(e=>{let r=e.cardImages[t]||[];return{cardImages:{...e.cardImages,[t]:r.filter(e=>e.id!==n)}}}),cardStyle:_e,previousCardStyle:null,updateCardStyle:t=>e(e=>{let n={...t};if(t.shadowConfig||t.shadowEnabled!==void 0){let r={...e.cardStyle.shadowConfig,...t.shadowConfig};if(!(t.shadowEnabled===void 0?e.cardStyle.shadowEnabled:t.shadowEnabled))n.shadow=`none`;else{let{x:e,y:t,blur:i,spread:a,color:o,opacity:s}=r,c=0,l=0,u=0;if(o.startsWith(`#`)){let e=o.substring(1);e.length===3?(c=parseInt(e[0]+e[0],16),l=parseInt(e[1]+e[1],16),u=parseInt(e[2]+e[2],16)):e.length===6&&(c=parseInt(e.substring(0,2),16),l=parseInt(e.substring(2,4),16),u=parseInt(e.substring(4,6),16))}n.shadow=`${e}px ${t}px ${i}px ${a}px rgba(${c}, ${l}, ${u}, ${s})`}}return{cardStyle:{...e.cardStyle,...n}}}),resetCardStyle:()=>e(e=>({previousCardStyle:e.cardStyle,cardStyle:_e})),undoReset:()=>e(e=>e.previousCardStyle?{cardStyle:e.previousCardStyle,previousCardStyle:null}:e),addCustomFont:t=>e(e=>({cardStyle:{...e.cardStyle,customFonts:[...e.cardStyle.customFonts,t]}})),isResetting:!1,setIsResetting:t=>e({isResetting:t}),previewZoom:0,setPreviewZoom:t=>e({previewZoom:t}),presets:[],savePreset:t=>e(e=>({presets:[...e.presets,{id:crypto.randomUUID(),name:t,style:JSON.parse(JSON.stringify(e.cardStyle))}]})),deletePreset:t=>e(e=>({presets:e.presets.filter(e=>e.id!==t)})),applyPreset:t=>e({cardStyle:JSON.parse(JSON.stringify(t))}),isEditorOpen:!0,setIsEditorOpen:t=>e({isEditorOpen:t}),isSidebarOpen:!0,setIsSidebarOpen:t=>e({isSidebarOpen:t})}),{name:`md2card-storage`,storage:c(()=>localStorage),version:2,migrate:(e,t)=>(t===0&&(e.cardStyle&&={...e.cardStyle,headingScale:e.cardStyle.headingScale??1,contentPadding:e.cardStyle.contentPadding??24}),t<=1&&(e.cardStyle&&={...e.cardStyle,autoHeight:e.cardStyle.autoHeight??!1,h1FontSize:e.cardStyle.h1FontSize??32,h2FontSize:e.cardStyle.h2FontSize??24,h3FontSize:e.cardStyle.h3FontSize??20}),e),partialize:e=>({theme:e.theme,language:e.language,markdown:e.markdown,cardStyle:e.cardStyle,cardImages:e.cardImages,activeCardIndex:e.activeCardIndex,presets:e.presets,isEditorOpen:e.isEditorOpen,isSidebarOpen:e.isSidebarOpen}),onRehydrateStorage:()=>e=>{e?.theme===`dark`?document.documentElement.classList.add(`dark`):document.documentElement.classList.remove(`dark`)}}),{partialize:e=>({markdown:e.markdown,cardImages:e.cardImages}),limit:100}));var ve={en:{title:`Md2Design`,export:`Export PNG`,styleSettings:`STYLE SETTINGS`,layout:`LAYOUT`,templates:`TEMPLATES`,colors:`COLORS`,typography:`TYPOGRAPHY`,customCSS:`CUSTOM CSS`,width:`Width`,height:`Height`,cornerRadius:`Corner Radius`,border:`Border`,backgroundFill:`Background Fill`,padding:`Padding`,contentPadding:`Content Padding`,fontFamily:`Font Family`,fontSize:`Font Size`,headingScale:`H4~H6 Heading Size`,zoom:`Preview Zoom`,editor:`EDITOR`,editorHint:`Support Feishu/Notion/Lark docs paste auto-conversion`,editorHint2:`Use "---" separator for manual pagination`,addFont:`Add Font`,fontName:`Font Name`,fontUrl:`Font URL (Google Fonts CSS)`,add:`Add`,background:`Background`,cardBackground:`Card Background`,text:`Text`,solid:`Solid`,gradient:`Gradient`,image:`Image`,uploadImage:`Upload Image`,portrait:`Portrait`,landscape:`Landscape`,startColor:`Start Color`,endColor:`End Color`,angle:`Angle`,uploadFont:`Upload Font File`,contactAuthor:`Contact Author`,blockquoteBackground:`Blockquote Bg`,blockquoteBorder:`Blockquote Border`,codeBackground:`Code Block Bg`,h1Color:`H1 Color`,h1LineColor:`H1 Line`,h2Color:`H2 Text`,h2BgColor:`H2 Bg`,h3Color:`H3 Color`,h3LineColor:`H3 Line`,currentFont:`Current Font`,presetFonts:`Preset Fonts`,customFonts:`Custom Fonts`,noCustomFonts:`No custom fonts added`,selectFont:`Select Font`,shadow:`Shadow`,watermark:`Watermark`,pageNumber:`Page Number`,content:`Content`,position:`Position`,opacity:`Opacity`,left:`Left`,center:`Center`,right:`Right`,blur:`Blur`,spread:`Spread`,xOffset:`X Offset`,yOffset:`Y Offset`,exportImage:`Export Image`,exportSettings:`Export Settings`,format:`Format`,scale:`Scale`,exportMode:`Export Mode`,singleFile:`Direct Download`,multipleFiles:`Export to Folder`,folderName:`文件夹名 Folder Name`,fileNameCustom:`File Name Custom`,namingModeSystem:`System Default`,namingModeCustom:`Custom`,namingPrefix:`Prefix`,namingDate:`Date`,namingCustom:`Custom Name`,namingNumber:`Number Order`,namingIncludeTime:`Include Time`,namingZeroStart:`Start with 0`,namingOrderAsc:`Ascending`,namingOrderDesc:`Descending`,namingNumberType:`Number Type`,namingArabic:`Arabic (1, 2, 3)`,namingChinese:`Chinese (一, 二, 三)`,dateFormatFull:`Full Date (YYMMDD)`,dateFormatShort:`Short Date (MMDD)`,dateFormatMDY:`MM/DD/YY`,dateFormatDMY:`DD/MM/YY`,dateFormatYMD:`YY/MM/DD`,namingPreview:`Filename Preview`,previewSize:`Estimated Size`,calculating:`Calculating...`,total:`Total`,exportTarget:`Export Target`,targetFolder:`Direct Folder (Chrome Only)`,targetZip:`ZIP Archive (Recommended)`,systemFolderWarning:`Note: System folders (Desktop, etc.) might be blocked by browser. Use ZIP instead.`,exportBtn:`Export`,exportSuccess:`Export Successful`,exportSuccessMsg:`All images have been saved to your device.`,resetStyle:`RESET`,styleResetToast:`Style Reset`,settingsRestoredToast:`Settings restored to initial state`,undo:`Undo`,changelogTitle:`Updates`,presets:`Presets`,savePreset:`Save Preset`,presetName:`Preset Name`,apply:`Apply`,delete:`Delete`,noPresets:`No presets saved`,saveCurrent:`Save Current Style`,enterPresetName:`Enter preset name...`,feedback:`Feedback`,onboardingTip:`Check updates and report bugs here`},zh:{title:`Md2Design`,export:`导出图片`,styleSettings:`样式设置`,layout:`布局`,templates:`模板`,colors:`颜色`,typography:`排版`,customCSS:`自定义 CSS`,width:`宽度`,height:`高度`,cornerRadius:`圆角`,border:`边框`,backgroundFill:`背景填充`,padding:`内边距`,contentPadding:`卡片边距`,fontFamily:`字体`,fontSize:`字号`,headingScale:`H4~H6 标题字号`,zoom:`预览缩放`,editor:`编辑器`,editorHint:`支持飞书、Notion文档粘贴自动识别`,editorHint2:`使用 "---" 分割线可手动分页`,addFont:`添加字体`,fontName:`字体名称`,fontUrl:`字体链接 (Google Fonts CSS)`,add:`添加`,background:`背景色`,cardBackground:`卡片颜色`,text:`文本色`,solid:`纯色`,gradient:`渐变`,image:`图片`,uploadImage:`上传图片`,portrait:`竖屏`,landscape:`横屏`,startColor:`起始色`,endColor:`结束色`,angle:`角度`,uploadFont:`上传字体文件`,contactAuthor:`联系作者`,blockquoteBackground:`引用背景色`,blockquoteBorder:`引用边框色`,codeBackground:`代码块背景色`,h1Color:`一级标题色`,h1LineColor:`一级横线色`,h2Color:`二级文本色`,h2BgColor:`二级背景色`,h3Color:`三级标题色`,h3LineColor:`三级竖线色`,currentFont:`当前字体`,presetFonts:`预设字体`,customFonts:`自定义字体`,noCustomFonts:`暂无自定义字体`,selectFont:`选择字体`,shadow:`阴影`,watermark:`水印`,pageNumber:`页码`,content:`内容`,position:`位置`,opacity:`不透明度`,left:`左`,center:`中`,right:`右`,blur:`模糊`,spread:`扩展`,xOffset:`X轴偏移`,yOffset:`Y轴偏移`,exportImage:`导出图片`,exportSettings:`导出设置`,format:`格式`,scale:`缩放`,exportMode:`导出模式`,singleFile:`直接下载`,multipleFiles:`导出到文件夹`,folderName:`文件夹名 Folder Name`,fileNameCustom:`文件名自定义`,namingModeSystem:`系统默认`,namingModeCustom:`自定义`,namingPrefix:`前缀`,namingDate:`日期`,namingCustom:`自定义名称`,namingNumber:`数字顺序`,namingIncludeTime:`包含时间`,namingZeroStart:`0作为起始数`,namingOrderAsc:`数字升序`,namingOrderDesc:`数字降序`,namingNumberType:`数字类型`,namingArabic:`阿拉伯数字`,namingChinese:`中文汉字`,dateFormatFull:`完整日期 (YYMMDD)`,dateFormatShort:`短日期 (MMDD)`,dateFormatMDY:`月/日/年`,dateFormatDMY:`日/月/年`,dateFormatYMD:`年/月/日`,namingPreview:`文件名预览`,previewSize:`预估大小`,calculating:`计算中...`,total:`总计`,exportTarget:`导出目标`,targetFolder:`直接导出文件夹`,targetZip:`ZIP 压缩包 (推荐)`,systemFolderWarning:`提示：浏览器通常限制直接访问桌面或系统文件夹，若导出失败请选择 ZIP 格式。`,exportBtn:`导出`,exportSuccess:`导出成功`,exportSuccessMsg:`所有图片已保存至您的设备。`,resetStyle:`重置样式`,styleResetToast:`样式已重置`,settingsRestoredToast:`设置已恢复到初始状态`,undo:`撤回`,changelogTitle:`更新日志`,presets:`样式预设`,savePreset:`保存预设`,presetName:`预设名称`,apply:`应用`,delete:`删除`,noPresets:`暂无保存的预设`,saveCurrent:`保存当前样式`,enterPresetName:`输入预设名称...`,feedback:`意见反馈`,onboardingTip:`这里可以查看更新和反馈bug`}};const J=()=>{let{language:e}=q();return ve[e]};var ye=new B({headingStyle:`atx`,codeBlockStyle:`fenced`,emDelimiter:`*`});ye.use(V);const be=e=>ye.turndown(e),xe=e=>{let t=e.width||800,n=e.height||600;if(e.aspectRatio!==`custom`&&!e.autoHeight){let[r,i]=e.aspectRatio.split(`:`).map(Number);e.orientation===`portrait`?(t=500,n=t*(i/r),n=r>i?t*(r/i):t*(i/r)):(t=500,n=t*(i/r));let a=r/i;e.orientation===`portrait`?a>1&&(a=1/a):a<1&&(a=1/a),t=500,n=500/a}return{width:t,height:n}};var Se=(e,t,n,r,i)=>{let a=n.fontSize,o=1.5,s=/[\u4e00-\u9fa5]/.test(e)?a*1:a*.52,c=Math.floor(r/s)||1,l=e.trim();if(l===``)return 4;if(l.startsWith(`![`))return 220;if(e.startsWith(`# `)){let e=i?0:20;return a*2*1.4+e+16}if(e.startsWith(`## `)){let e=i?0:16;return a*1.5*1.4+e+12}if(e.startsWith(`### `)){let e=i?0:12;return a*1.25*1.4+e+8}if(e.startsWith(`> `)){let t=e.replace(/^> /,``);return Math.max(1,Math.ceil(t.length/c))*a*o+6}if(l.match(/^[-*] /)||l.match(/^\d+\. /)){let e=l.replace(/^[-*] |\d+\. /,``),n=Math.max(1,Math.ceil(e.length/c)),r=t&&(t.trim().startsWith(`-`)||t.trim().startsWith(`*`)||t.trim().match(/^\d+\. /))?2:8;return n*a*o+r}let u=Math.max(1,Math.ceil(e.length/c)),d=!t||t.trim()===``,f=t&&(t.startsWith(`#`)||t.startsWith(`>`)||t.startsWith(`-`)||t.startsWith(`*`)),p=d||f?8:0;return u*a*o+p};const Y=(e,t)=>{let{width:n,height:r}=xe(t),i=Math.min(n,800)-t.padding*2-t.contentPadding*2,a=Math.max(t.contentPadding,24),o=t.pageNumber.enabled||t.watermark.enabled?44:12,s=r-t.padding*2-a*2-o,c=e.split(/\n\s*---\s*\n|^\s*---\s*$/m).join(`

`).split(`
`),l=[],u=[],d=0,f=!0;for(let e=0;e<c.length;e++){let n=c[e],r=n.trim();if(r===``&&f)continue;let a=Se(n,c[e+1],t,i,f);if(d+a>s&&u.length>0){for(;u.length>0&&u[u.length-1].trim()===``;)u.pop();l.push(u.join(`
`).trim()),u=[n],d=a,f=!0,f=r===``}else u.push(n),d+=a,r!==``&&(f=!1)}return u.length>0&&l.push(u.join(`
`).trim()),l.join(`

---

`)};var X=o();const Ce=()=>{let{markdown:e,setMarkdown:t,addCardImage:n,cardStyle:r,isEditorOpen:i,setIsEditorOpen:a}=q(),o=J(),[s,c]=(0,K.useState)(!1),l=(0,K.useRef)(null),u=(0,K.useRef)(null),f=(0,K.useRef)(r.autoHeight);(0,K.useEffect)(()=>{if(f.current&&!r.autoHeight&&e.length>500){let n=Y(e,r);n!==e&&(t(n),c(!0),setTimeout(()=>c(!1),4e3))}f.current=r.autoHeight},[r.autoHeight,e,r,t]);let p=(n,r=``)=>{let i=l.current;if(!i)return;let a=i.selectionStart,o=i.selectionEnd,s=e.substring(a,o);t(e.substring(0,a)+n+s+r+e.substring(o)),setTimeout(()=>{i.focus(),i.setSelectionRange(a+n.length,o+n.length)},0)},g=n=>{let r=l.current;if(!r)return;let i=r.selectionStart,a=r.selectionEnd,o=e.substring(i,a),s=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,`\\$&`),c=RegExp(`^${s}(.*)${s}$`);if(c.test(o)){let n=o.replace(c,`$1`);t(e.substring(0,i)+n+e.substring(a)),setTimeout(()=>{r.focus(),r.setSelectionRange(i,i+n.length)},0)}else t(e.substring(0,i)+n+o+n+e.substring(a)),setTimeout(()=>{r.focus(),r.setSelectionRange(i+n.length,a+n.length)},0)},b=n=>{let r=l.current;if(!r)return;let i=r.selectionStart,a=r.selectionEnd,o=e.lastIndexOf(`
`,i-1)+1,s=e.indexOf(`
`,a);s===-1&&(s=e.length);let c=e.substring(o,s).split(`
`),u=n+` `,d=c.every(e=>e.trim()===``||e.startsWith(u)),f;f=d?c.map(e=>e.startsWith(u)?e.substring(u.length):e):c.map(e=>u+e);let p=f.join(`
`);t(e.substring(0,o)+p+e.substring(s)),setTimeout(()=>{r.focus();let e=i,t=a;d?c.forEach((n,r)=>{let s=o+c.slice(0,r).join(`
`).length+(r>0?1:0);s<i&&n.startsWith(u)&&(e-=u.length),s<a&&n.startsWith(u)&&(t-=u.length)}):c.forEach((n,r)=>{let s=o+c.slice(0,r).join(`
`).length+(r>0?1:0);s<=i&&(e+=u.length),s<=a&&(t+=u.length)}),r.setSelectionRange(e,t)},0)},S=r=>{let i=l.current,a=i?i.selectionStart:e.length,o=i?i.selectionEnd:e.length,s=e.substring(0,a).match(/\n\s*---\s*\n|^\s*---\s*$/gm),c=s?s.length:0,u=new FileReader;u.onload=r=>{if(r.target?.result){let s=r.target.result;n(c,s),t(e.substring(0,a)+`
![spacer](spacer)
`+e.substring(o)),setTimeout(()=>{if(i){i.focus();let e=a+19;i.setSelectionRange(e,e)}},0)}},u.readAsDataURL(r)};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(R,{mode:`wait`,children:i?(0,X.jsxs)(z.div,{initial:{x:-400,opacity:0},animate:{x:0,opacity:1},exit:{x:-400,opacity:0},transition:{type:`spring`,stiffness:300,damping:30},className:`absolute left-6 top-20 bottom-6 w-[400px] glass-panel rounded-2xl flex flex-col z-40 overflow-hidden`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between p-4 border-b border-black/10 dark:border-white/10`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-2 text-sm font-semibold opacity-80`,children:[(0,X.jsx)(j,{size:16}),(0,X.jsx)(`span`,{children:o.editor})]}),(0,X.jsx)(`button`,{onClick:()=>a(!1),className:`p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors`,children:(0,X.jsx)(y,{size:18})})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-0.5 p-2 border-b border-black/10 dark:border-white/10 overflow-x-auto custom-scrollbar no-scrollbar`,children:[(0,X.jsx)(`button`,{onClick:()=>g(`**`),title:`Bold`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(h,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>g(`*`),title:`Italic`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(ee,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>g(`~~`),title:`Strikethrough`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(A,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>b(`#`),title:`H1`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(O,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>b(`##`),title:`H2`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(v,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>b(`-`),title:`List`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(L,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>b(`>`),title:`Quote`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(ne,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>p(`[`,`](url)`),title:`Link`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(x,{size:16})}),(0,X.jsx)(`button`,{onClick:()=>u.current?.click(),title:`Image`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-70 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(d,{size:16})}),(0,X.jsx)(`input`,{type:`file`,ref:u,className:`hidden`,accept:`image/*`,onChange:e=>{let t=e.target.files?.[0];t&&S(t),e.target.value=``}}),(0,X.jsx)(`div`,{className:`w-[1px] h-4 bg-black/10 dark:bg-white/10 mx-1 flex-shrink-0`}),(0,X.jsx)(`button`,{onClick:()=>{r.autoHeight&&q.getState().updateCardStyle({autoHeight:!1,orientation:`portrait`}),setTimeout(()=>{let n=q.getState().cardStyle,r=Y(e,n);r!==e&&(t(r),c(!0),setTimeout(()=>c(!1),4e3))},0)},title:`自动分页`,className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-md transition-colors opacity-90 hover:opacity-100 group flex-shrink-0`,children:(0,X.jsxs)(`svg`,{width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:[(0,X.jsx)(`path`,{d:`M12 2L14.8 9.2L22 12L14.8 14.8L12 22L9.2 14.8L2 12L9.2 9.2L12 2Z`,fill:`url(#star-gradient)`,stroke:`url(#star-gradient)`,strokeWidth:`1.5`,strokeLinecap:`round`,strokeLinejoin:`round`}),(0,X.jsx)(`defs`,{children:(0,X.jsxs)(`linearGradient`,{id:`star-gradient`,x1:`2`,y1:`2`,x2:`22`,y2:`22`,gradientUnits:`userSpaceOnUse`,children:[(0,X.jsx)(`stop`,{stopColor:`#93C5FD`}),(0,X.jsx)(`stop`,{offset:`0.5`,stopColor:`#60A5FA`}),(0,X.jsx)(`stop`,{offset:`1`,stopColor:`#3B82F6`})]})})]})})]}),(0,X.jsx)(`textarea`,{ref:l,className:`flex-1 w-full h-full bg-transparent resize-none focus:outline-none font-mono text-sm leading-relaxed p-4 text-inherit placeholder-inherit/50 custom-scrollbar`,value:e,onChange:e=>t(e.target.value),onPaste:n=>{let i=n.clipboardData.items,a=!1;for(let e=0;e<i.length;e++)if(i[e].type.indexOf(`image`)!==-1){n.preventDefault();let t=i[e].getAsFile();t&&S(t);return}let o=n.clipboardData.getData(`text/html`),s=n.clipboardData.getData(`text/plain`);if(o&&o.trim().length>0)try{let i=be(o);if(i&&i.trim().length>0){n.preventDefault(),p(i),a=!0;let o=l.current,s=o?.selectionStart??0,u=o?.selectionEnd??0,d=e.substring(0,s)+i+e.substring(u);if(!r.autoHeight&&d.length>500){let e=Y(d,r);e===d?t(d):(t(e),c(!0),setTimeout(()=>c(!1),4e3))}else t(d);return}}catch(e){console.error(`Failed to convert HTML to Markdown`,e)}if(!a&&s){n.preventDefault(),p(s);let i=l.current,a=i?.selectionStart??0,o=i?.selectionEnd??0,u=e.substring(0,a)+s+e.substring(o);if(!r.autoHeight&&u.length>500){let e=Y(u,r);e===u?t(u):(t(e),c(!0),setTimeout(()=>c(!1),4e3))}else t(u)}},placeholder:`Type your markdown here...`}),(0,X.jsxs)(`div`,{className:`p-3 border-t border-black/10 dark:border-white/10 text-center space-y-1.5 bg-black/5 dark:bg-white/5`,children:[(0,X.jsx)(`div`,{className:`text-sm font-bold text-blue-600 dark:text-blue-400 opacity-90`,children:o.editorHint}),(0,X.jsx)(`div`,{className:`text-xs opacity-60`,children:o.editorHint2})]})]}):(0,X.jsx)(z.button,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},whileHover:{scale:1.1},onClick:()=>a(!0),className:`absolute left-6 top-1/2 -translate-y-1/2 p-3 glass-panel rounded-full z-40 text-inherit shadow-xl`,children:(0,X.jsx)(_,{size:24})})}),(0,X.jsx)(R,{children:s&&(0,X.jsxs)(z.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[70] bg-black/80 dark:bg-white/90 text-white dark:text-black px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 backdrop-blur-md`,children:[(0,X.jsx)(`div`,{className:`bg-green-500 rounded-full p-1`,children:(0,X.jsx)(m,{size:14,className:`text-white`,strokeWidth:3})}),(0,X.jsxs)(`div`,{className:`flex flex-col`,children:[(0,X.jsx)(`span`,{className:`text-sm font-bold`,children:`已自动分页`}),(0,X.jsx)(`span`,{className:`text-[10px] opacity-80`,children:`内容过长，已按页面高度自动切割。可用 "---" 手动调整。`})]}),(0,X.jsx)(`button`,{onClick:()=>c(!1),className:`ml-2 opacity-50 hover:opacity-100 p-1`,children:(0,X.jsx)(y,{className:`rotate-[-90deg]`,size:14})})]})})]})},we=()=>{let{markdown:e,setIsScrolled:t,setActiveCardIndex:n,cardStyle:r,isEditorOpen:i,isSidebarOpen:a,previewZoom:o,setPreviewZoom:s}=q(),c=(0,K.useRef)(null),[l,u]=(0,K.useState)(null),{width:d,height:f}=xe(r),[p,m]=(0,K.useState)(1),[h,g]=(0,K.useState)(1);(0,K.useEffect)(()=>{let e=()=>{let e=window.innerWidth>=1024,t=(e&&i?448:40)+(e&&a?398:40),n=Math.max(300,window.innerWidth-t),o=Math.max(300,window.innerHeight-180),s=n/d,c=o/f,l=Math.min(s,c,1);r.autoHeight&&(l=Math.min(s,1)),l<.2&&(l=.2),g(l)};return e(),window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[d,f,i,a,r.autoHeight]),(0,K.useEffect)(()=>{m(o>0?o:h)},[o,h]),(0,K.useEffect)(()=>{let e=e=>{if((e.ctrlKey||e.metaKey)&&c.current&&c.current.contains(e.target)){e.preventDefault();let t=e.deltaY>0?-.1:.1,n=o>0?o:h;s(Math.max(.2,Math.min(4,n+t)))}};return window.addEventListener(`wheel`,e,{passive:!1}),()=>window.removeEventListener(`wheel`,e)},[o,h,s]),(0,K.useEffect)(()=>{let e=!1,r=()=>{e||=(window.requestAnimationFrame(()=>{if(c.current){t(c.current.scrollTop>20);let e=document.querySelectorAll(`[id^="card-"]`),r=0,i=1/0,a=window.innerHeight/2;e.forEach((e,t)=>{let n=e.getBoundingClientRect(),o=Math.abs(n.top+n.height/2-a);o<i&&(i=o,r=t)}),n(r)}e=!1}),!0)},i=c.current;return i?.addEventListener(`scroll`,r),()=>i?.removeEventListener(`scroll`,r)},[t,n]);let _=r.autoHeight?[e]:e.split(/\n\s*---\s*\n|^\s*---\s*$/m).filter(e=>e.trim()!==``),v=typeof window<`u`&&window.innerWidth>=1024;return(0,X.jsx)(`div`,{ref:c,className:`w-full h-full overflow-y-auto pt-24 flex flex-col items-center gap-12 custom-scrollbar pb-32 transition-all duration-300`,style:{paddingLeft:v&&i?`448px`:`2rem`,paddingRight:v&&a?`398px`:`2rem`},children:_.map((e,t)=>(0,X.jsx)(Te,{content:e,index:t,scale:p,width:d,height:f,selectedImageId:l,setSelectedImageId:u},t))})};var Te=({content:e,index:t,scale:n,width:r,height:i,selectedImageId:a,setSelectedImageId:o})=>{let{cardStyle:s,cardImages:c,updateCardImage:l,removeCardImage:u,isResetting:d}=q(),f={width:`${r}px`,height:s.autoHeight?`auto`:`${i}px`,minHeight:s.autoHeight?`${i}px`:void 0,padding:s.enableBackground?`${s.padding}px`:`0`,background:`transparent`},p={fontFamily:s.fontFamily,backgroundColor:`transparent`,color:s.textColor,fontSize:`${s.fontSize}px`,borderRadius:`${s.borderRadius}px`,borderWidth:`${s.borderWidth}px`,borderColor:s.borderColor,boxShadow:s.shadow,padding:`${s.contentPadding}px`,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},m=c[t]||[];return(0,X.jsx)(`div`,{style:{width:r*n,height:s.autoHeight?`auto`:i*n,transition:`all 0.3s ease`},className:`relative flex-shrink-0`,children:(0,X.jsx)(`div`,{style:{width:r,height:s.autoHeight?`auto`:i,transform:`scale(${n})`,transformOrigin:`top left`,transition:`transform 0.3s ease`},children:(0,X.jsxs)(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:`relative shadow-2xl overflow-hidden flex flex-col flex-shrink-0 group ${d?`transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)]`:``}`,style:f,id:`card-${t}`,onClick:()=>o(null),children:[(()=>s.enableBackground?s.backgroundType===`image`&&s.backgroundImage?(0,X.jsx)(`div`,{className:`absolute inset-0 overflow-hidden -z-10 rounded-none pointer-events-none`,children:(0,X.jsx)(`div`,{style:{width:`100%`,height:`100%`,backgroundImage:`url(${s.backgroundImage})`,backgroundPosition:`center`,backgroundSize:`cover`,transform:`translate(${s.backgroundConfig.x}px, ${s.backgroundConfig.y}px) scale(${s.backgroundConfig.scale})`,filter:`blur(${s.backgroundConfig.blur}px)`}})}):(s.backgroundType,(0,X.jsx)(`div`,{className:`absolute inset-0 -z-10 pointer-events-none`,style:{background:s.backgroundValue}})):null)(),(0,X.jsxs)(`div`,{className:`relative w-full h-full flex flex-col overflow-hidden ${d?`transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)]`:``}`,style:p,children:[(()=>{let e=s.cardBackgroundType||`solid`,t={borderRadius:`${Math.max(0,s.borderRadius-s.borderWidth)}px`};return e===`image`&&s.cardBackgroundImage?(0,X.jsx)(`div`,{className:`absolute inset-0 overflow-hidden -z-10 pointer-events-none`,style:t,children:(0,X.jsx)(`div`,{style:{width:`100%`,height:`100%`,backgroundImage:`url(${s.cardBackgroundImage})`,backgroundPosition:`center`,backgroundSize:`cover`,transform:`translate(${s.cardBackgroundConfig.x}px, ${s.cardBackgroundConfig.y}px) scale(${s.cardBackgroundConfig.scale})`,filter:`blur(${s.cardBackgroundConfig.blur}px)`}})}):e===`gradient`?(0,X.jsx)(`div`,{className:`absolute inset-0 -z-10 pointer-events-none`,style:{...t,background:s.cardGradientValue}}):(0,X.jsx)(`div`,{className:`absolute inset-0 -z-10 pointer-events-none bg-current`,style:{...t,color:s.backgroundColor}})})(),s.template===`default`&&(0,X.jsx)(`div`,{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-pink-400 to-orange-300 blur-3xl opacity-20 -z-0 pointer-events-none`}),m.map(e=>(0,X.jsx)(G,{size:{width:e.width,height:e.height},position:{x:e.x,y:e.y},onDragStop:(n,r)=>{l(t,e.id,{x:r.x,y:r.y})},onResizeStop:(n,r,i,a,o)=>{l(t,e.id,{width:parseInt(i.style.width),height:parseInt(i.style.height),...o})},bounds:`parent`,className:`z-20 ${a===e.id?`ring-2 ring-blue-500`:`hover:ring-1 hover:ring-blue-300/50`}`,onClick:t=>{t.stopPropagation(),o(e.id)},"data-html2canvas-ignore":(e.id,void 0),children:(0,X.jsxs)(`div`,{className:`relative w-full h-full group/img`,children:[(0,X.jsx)(`img`,{src:e.src,className:`w-full h-full object-cover pointer-events-none`,alt:`added`,style:{objectPosition:`${-e.crop.x}px ${-e.crop.y}px`,transform:`scale(${e.crop.scale})`}}),a===e.id&&(0,X.jsxs)(`div`,{className:`absolute -top-10 left-1/2 -translate-x-1/2 flex items-center gap-1 bg-black/80 text-white rounded-lg p-1 shadow-xl z-50 export-ignore`,children:[(0,X.jsx)(`button`,{className:`p-1 hover:bg-white/20 rounded`,title:`Move Mode (Default)`,children:(0,X.jsx)(re,{size:14})}),(0,X.jsx)(`button`,{className:`p-1 hover:bg-red-500/80 rounded text-red-300`,onClick:n=>{n.stopPropagation(),u(t,e.id)},children:(0,X.jsx)(D,{size:14})})]})]})},e.id)),(0,X.jsxs)(`div`,{className:`relative z-10 h-full flex flex-col pointer-events-none`,children:[(0,X.jsx)(`div`,{className:`prose prose-sm max-w-none flex-1 pointer-events-auto overflow-hidden break-words [&>*:first-child]:mt-0`,style:{padding:`${Math.max(s.contentPadding,24)}px`,paddingBottom:s.autoHeight?`${Math.max(s.contentPadding,24)}px`:`4px`,maxHeight:s.autoHeight?`none`:`100%`},children:(0,X.jsx)(U,{remarkPlugins:[H,W],components:{h1:({...e})=>(0,X.jsxs)(`div`,{className:`flex flex-col items-center mb-8 mt-4 first:mt-0`,children:[(0,X.jsx)(`h1`,{style:{color:s.h1Color||s.textColor,fontSize:`${s.h1FontSize}px`},className:`font-bold mb-2 text-center`,...e}),(0,X.jsx)(`div`,{className:`h-1 w-24 rounded-full`,style:{backgroundColor:s.h1LineColor||s.accentColor}})]}),h2:({...e})=>(0,X.jsx)(`div`,{className:`flex justify-center mb-6 mt-6 first:mt-0`,children:(0,X.jsx)(`h2`,{style:{backgroundColor:s.h2BackgroundColor||s.accentColor,color:s.h2Color||`#fff`,fontSize:`${s.h2FontSize}px`},className:`font-bold px-4 py-1.5 shadow-md rounded-lg`,...e})}),h3:({...e})=>(0,X.jsx)(`h3`,{style:{color:s.h3Color||s.textColor,borderLeftColor:s.h3LineColor||s.accentColor,fontSize:`${s.h3FontSize}px`},className:`font-bold mb-4 mt-4 first:mt-0 pl-3 border-l-4`,...e}),h4:({...e})=>(0,X.jsx)(`h4`,{style:{color:s.textColor,fontSize:`${s.headingScale*1.125}rem`},className:`font-bold mb-2 mt-4 first:mt-0`,...e}),h5:({...e})=>(0,X.jsx)(`h5`,{style:{color:s.textColor,fontSize:`${s.headingScale*1}rem`},className:`font-bold mb-2 mt-4 first:mt-0`,...e}),h6:({...e})=>(0,X.jsx)(`h6`,{style:{color:s.textColor,fontSize:`${s.headingScale*.875}rem`},className:`font-bold mb-2 mt-4 first:mt-0 opacity-80`,...e}),del:({...e})=>(0,X.jsx)(`del`,{style:{color:s.textColor,opacity:.7},...e}),p:({...e})=>(0,X.jsx)(`p`,{style:{color:s.textColor},className:`mb-4 leading-relaxed opacity-90 first:mt-0`,...e}),ul:({...e})=>(0,X.jsx)(`ul`,{style:{color:s.textColor},className:`mb-4 list-disc list-outside pl-5 space-y-1`,...e}),ol:({...e})=>(0,X.jsx)(`ol`,{style:{color:s.textColor},className:`mb-4 list-decimal list-outside pl-5 space-y-1`,...e}),li:({...e})=>(0,X.jsx)(`li`,{className:`pl-1 marker:opacity-70 [&>p]:mb-2`,...e}),table:({...e})=>(0,X.jsx)(`div`,{className:`overflow-x-auto mb-6 rounded-lg border border-current opacity-90`,children:(0,X.jsx)(`table`,{className:`w-full text-left text-sm border-collapse`,...e})}),thead:({...e})=>(0,X.jsx)(`thead`,{className:`bg-black/5 dark:bg-white/10 font-semibold`,...e}),tbody:({...e})=>(0,X.jsx)(`tbody`,{className:`divide-y divide-current/10`,...e}),tr:({...e})=>(0,X.jsx)(`tr`,{className:`hover:bg-black/5 dark:hover:bg-white/5 transition-colors`,...e}),th:({...e})=>(0,X.jsx)(`th`,{className:`p-3 border-b border-current/20 whitespace-nowrap`,...e}),td:({...e})=>(0,X.jsx)(`td`,{className:`p-3 border-b border-current/10`,...e}),pre:({children:e})=>(0,X.jsx)(X.Fragment,{children:e}),blockquote:({...e})=>(0,X.jsx)(`blockquote`,{style:{borderLeftColor:s.blockquoteBorderColor,backgroundColor:s.blockquoteBackgroundColor},className:`border-l-4 pl-4 py-2 my-4 italic opacity-90 rounded-r-lg rounded-bl-sm [&>p:last-child]:mb-0 [&>p:first-child]:mt-0 break-words`,...e}),a:({...e})=>(0,X.jsx)(`a`,{style:{color:s.accentColor},className:`underline decoration-auto underline-offset-2 break-all`,...e}),img:({src:e,alt:t,...n})=>{if(e===`spacer`)return(0,X.jsx)(`div`,{className:`w-full`,style:{height:`200px`}});let r,i=e;if(e&&e.includes(`#width=`)){let t=e.split(`#width=`);i=t[0],r=t[1]}return(0,X.jsx)(`img`,{src:i,alt:t,crossOrigin:`anonymous`,className:`markdown-image`,style:{display:`block`,maxWidth:`100%`,width:r||`auto`,borderRadius:`8px`,marginTop:`1rem`,marginBottom:`1rem`},...n})},code:({children:e,...t})=>String(e??``).includes(`
`)?(0,X.jsx)(`code`,{style:{backgroundColor:s.codeBackgroundColor,fontSize:`0.8em`},className:`block rounded-lg p-4 font-mono my-4 overflow-x-auto whitespace-pre-wrap break-words`,...t,children:e}):(0,X.jsx)(`code`,{style:{backgroundColor:s.codeBackgroundColor},className:`rounded px-1.5 py-0.5 text-[0.9em] font-mono`,...t,children:e})},children:e})}),(s.pageNumber.enabled||s.watermark.enabled)&&(0,X.jsxs)(`div`,{className:`w-full px-8 pb-4 pt-2 flex items-center font-mono uppercase tracking-widest pointer-events-auto h-10 flex-shrink-0 relative`,style:{color:s.textColor},children:[(0,X.jsxs)(`div`,{className:`absolute left-8 flex items-center gap-4`,children:[s.pageNumber.enabled&&s.pageNumber.position===`left`&&(0,X.jsx)(`span`,{style:{opacity:s.pageNumber.opacity,fontSize:`${s.pageNumber.fontSize}px`},className:`font-bold`,children:t+1}),s.watermark.enabled&&s.watermark.position===`left`&&(0,X.jsx)(`span`,{style:{opacity:s.watermark.opacity,fontSize:`${s.watermark.fontSize}px`},children:s.watermark.content})]}),(0,X.jsxs)(`div`,{className:`absolute left-1/2 -translate-x-1/2 flex items-center gap-4`,children:[s.pageNumber.enabled&&s.pageNumber.position===`center`&&(0,X.jsx)(`span`,{style:{opacity:s.pageNumber.opacity,fontSize:`${s.pageNumber.fontSize}px`},className:`font-bold`,children:t+1}),s.watermark.enabled&&s.watermark.position===`center`&&(0,X.jsx)(`span`,{style:{opacity:s.watermark.opacity,fontSize:`${s.watermark.fontSize}px`},children:s.watermark.content})]}),(0,X.jsxs)(`div`,{className:`absolute right-8 flex items-center gap-4`,children:[s.watermark.enabled&&s.watermark.position===`right`&&(0,X.jsx)(`span`,{style:{opacity:s.watermark.opacity,fontSize:`${s.watermark.fontSize}px`},children:s.watermark.content}),s.pageNumber.enabled&&s.pageNumber.position===`right`&&(0,X.jsx)(`span`,{style:{opacity:s.pageNumber.opacity,fontSize:`${s.pageNumber.fontSize}px`},className:`font-bold`,children:t+1})]})]})]})]})]})})})},Ee=t(),De=({onSelect:e})=>(0,X.jsx)(`div`,{className:`grid grid-cols-4 gap-2 mt-2`,children:me.map((t,n)=>(0,X.jsx)(`button`,{onClick:()=>e(t.start,t.end),className:`w-full aspect-square rounded-md border border-black/10 dark:border-white/10 transition-transform active:scale-95 hover:scale-105`,style:{background:`linear-gradient(135deg, ${t.start} 0%, ${t.end} 100%)`},title:t.name},n))}),Oe=()=>{let{presets:e,savePreset:t,deletePreset:n,applyPreset:r,markdown:i}=q(),a=J(),[o,s]=(0,K.useState)(!1),[c,l]=(0,K.useState)(``),[d,f]=(0,K.useState)(null),p=(0,K.useRef)(null),[m,h]=(0,K.useState)(1),g=()=>{c.trim()&&(t(c.trim()),l(``),s(!1))},_=i.split(/\n---\n/).filter(e=>e.trim()!==``)[0]??``,v=e=>{let t=e.width||800,n=e.height||600;if(e.aspectRatio!==`custom`&&!e.autoHeight){let[r,i]=e.aspectRatio.split(`:`).map(Number);e.orientation===`portrait`?(t=500,n=t*(i/r),n=r>i?t*(r/i):t*(i/r)):(t=500,n=t*(i/r));let a=r/i;e.orientation===`portrait`?a>1&&(a=1/a):a<1&&(a=1/a),t=500,n=500/a}return{width:t,height:n}};return(0,K.useEffect)(()=>{if(!d)return;let e=p.current;if(!e)return;let{width:t,height:n}=v(d.style),r=()=>{let r=window.getComputedStyle(e),i=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),a=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),o=Math.max(0,e.clientWidth-i),s=Math.max(0,e.clientHeight-a);!o||!s||h(Math.min(o/t,s/n,1))};r();let i=new ResizeObserver(()=>r());return i.observe(e),window.addEventListener(`resize`,r),()=>{i.disconnect(),window.removeEventListener(`resize`,r)}},[d]),(0,X.jsxs)(`div`,{className:`space-y-4 mb-8`,children:[typeof document<`u`&&(0,Ee.createPortal)((0,X.jsx)(R,{children:d&&(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[1000] bg-black/35`,onClick:()=>f(null),style:{backdropFilter:`blur(12px)`,WebkitBackdropFilter:`blur(12px)`},children:(0,X.jsxs)(z.div,{initial:{scale:.96,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.96,opacity:0,y:20},className:`absolute inset-6 sm:inset-10 rounded-3xl overflow-hidden shadow-2xl border border-white/20 bg-white/40 dark:bg-[#0a0a0a]/35 backdrop-blur-2xl flex flex-col max-w-4xl max-h-[80vh] mx-auto my-auto`,onClick:e=>e.stopPropagation(),children:[(0,X.jsxs)(`div`,{className:`p-4 border-b border-black/5 dark:border-white/5 flex items-center justify-between bg-white/70 dark:bg-black/40 backdrop-blur-md`,children:[(0,X.jsxs)(`div`,{className:`min-w-0`,children:[(0,X.jsx)(`div`,{className:`text-sm font-bold truncate`,children:d.name}),(0,X.jsx)(`div`,{className:`text-[10px] opacity-50 truncate`,children:a.presets})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,X.jsx)(`button`,{onClick:()=>{r(d.style),f(null)},className:`px-4 py-1.5 bg-blue-500 text-white rounded-full text-xs font-bold hover:bg-blue-600 transition-colors`,children:a.apply}),(0,X.jsx)(`button`,{onClick:()=>f(null),className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors`,"aria-label":`Close`,children:(0,X.jsx)(P,{size:18})})]})]}),(0,X.jsxs)(`div`,{ref:p,className:`relative flex-1 overflow-hidden flex items-center justify-center p-4 sm:p-8`,children:[(0,X.jsxs)(`div`,{className:`absolute inset-0 pointer-events-none`,children:[(0,X.jsx)(`div`,{className:`absolute inset-0 bg-white/10 dark:bg-white/5 backdrop-blur-2xl`}),(0,X.jsx)(`div`,{className:`absolute -top-24 -left-24 w-80 h-80 rounded-full bg-cyan-400/25 blur-3xl`}),(0,X.jsx)(`div`,{className:`absolute -bottom-28 -right-28 w-96 h-96 rounded-full bg-blue-500/25 blur-3xl`}),(0,X.jsx)(`div`,{className:`absolute inset-0 opacity-[0.04] mix-blend-overlay`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}})]}),(0,X.jsx)(`div`,{className:`relative z-10`,style:{transform:`scale(${m})`,transformOrigin:`center`},children:(0,X.jsx)(ke,{content:_,index:0,style:d.style,getPreviewDimensions:v})})]})]})})}),document.body),(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(u,{size:16}),` `,a.presets]}),(0,X.jsx)(`button`,{onClick:()=>s(!o),className:`p-1.5 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-blue-500`,title:a.savePreset,children:(0,X.jsx)(T,{size:18})})]}),(0,X.jsx)(R,{children:o&&(0,X.jsx)(z.div,{initial:{height:0,opacity:0},animate:{height:`auto`,opacity:1},exit:{height:0,opacity:0},className:`overflow-hidden`,children:(0,X.jsxs)(`div`,{className:`p-3 bg-black/5 dark:bg-white/5 rounded-lg border border-blue-500/30 space-y-3 mb-4`,children:[(0,X.jsx)(`input`,{autoFocus:!0,type:`text`,placeholder:a.enterPresetName,value:c,onChange:e=>l(e.target.value),onKeyDown:e=>e.key===`Enter`&&g(),className:`w-full bg-white dark:bg-black/20 border border-black/10 dark:border-white/10 rounded px-3 py-2 text-xs focus:outline-none focus:border-blue-500`}),(0,X.jsxs)(`div`,{className:`flex gap-2`,children:[(0,X.jsx)(`button`,{onClick:g,disabled:!c.trim(),className:`flex-1 bg-blue-500 text-white py-1.5 rounded text-xs font-bold disabled:opacity-50`,children:a.add}),(0,X.jsx)(`button`,{onClick:()=>s(!1),className:`px-3 py-1.5 bg-black/5 dark:bg-white/5 rounded text-xs`,children:a.undo})]})]})})}),(0,X.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 justify-items-center`,children:[e.map(e=>(0,X.jsxs)(`div`,{className:`group relative bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5 overflow-hidden transition-all hover:border-blue-500/50 w-full max-w-[72px]`,children:[(0,X.jsxs)(`div`,{className:`aspect-square w-full cursor-pointer overflow-hidden relative`,onClick:()=>r(e.style),children:[(0,X.jsx)(`div`,{className:`w-full h-full transition-transform group-hover:scale-110`,style:{background:e.style.enableBackground?e.style.backgroundType===`gradient`||e.style.backgroundType===`solid`?e.style.backgroundValue:`#000`:e.style.cardBackgroundType===`gradient`?e.style.cardGradientValue:e.style.backgroundColor},children:(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center p-2`,children:(0,X.jsx)(`div`,{className:`w-full h-full rounded-[2px] shadow-sm border border-black/5`,style:{background:e.style.cardBackgroundType===`gradient`?e.style.cardGradientValue:e.style.backgroundColor,borderRadius:Math.min(e.style.borderRadius/12,2)}})})}),(0,X.jsxs)(`div`,{className:`absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-1.5`,children:[(0,X.jsx)(`button`,{onClick:t=>{t.stopPropagation(),f(e)},className:`p-1.5 bg-white/90 dark:bg-black/60 rounded-full hover:scale-110 transition-transform shadow-lg text-blue-500`,title:`View Full Preview`,children:(0,X.jsx)(C,{size:12})}),(0,X.jsx)(`button`,{onClick:t=>{t.stopPropagation(),n(e.id)},className:`p-1.5 bg-white/90 dark:bg-black/60 rounded-full hover:scale-110 transition-transform shadow-lg text-red-500`,title:a.delete,children:(0,X.jsx)(D,{size:12})})]})]}),(0,X.jsx)(`div`,{className:`p-1.5 bg-white/50 dark:bg-black/20 backdrop-blur-sm`,children:(0,X.jsx)(`span`,{className:`text-[9px] font-medium truncate opacity-70 block text-center`,children:e.name})})]},e.id)),e.length===0&&!o&&(0,X.jsx)(`div`,{className:`col-span-3 py-4 text-center opacity-30 text-[10px] italic border border-dashed border-black/10 dark:border-white/10 rounded-lg`,children:a.noPresets})]})]})},ke=({content:e,index:t,style:n,getPreviewDimensions:r})=>{let i=r(n),a={width:`${i.width}px`,height:`${i.height}px`,padding:n.enableBackground?`${n.padding}px`:`0`,background:`transparent`},o={fontFamily:n.fontFamily,backgroundColor:`transparent`,color:n.textColor,fontSize:`${n.fontSize}px`,borderRadius:`${n.borderRadius}px`,borderWidth:`${n.borderWidth}px`,borderColor:n.borderColor,boxShadow:n.shadowEnabled?n.shadow:`none`,padding:`2rem`,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0};return(0,X.jsxs)(`div`,{className:`relative shadow-2xl overflow-hidden flex flex-col flex-shrink-0`,style:a,children:[(()=>n.enableBackground?n.backgroundType===`image`&&n.backgroundImage?(0,X.jsx)(`div`,{className:`absolute inset-0 overflow-hidden -z-10 rounded-none pointer-events-none`,children:(0,X.jsx)(`div`,{style:{width:`100%`,height:`100%`,backgroundImage:`url(${n.backgroundImage})`,backgroundPosition:`center`,backgroundSize:`cover`,transform:`translate(${n.backgroundConfig.x}px, ${n.backgroundConfig.y}px) scale(${n.backgroundConfig.scale})`,filter:`blur(${n.backgroundConfig.blur}px)`}})}):(n.backgroundType,(0,X.jsx)(`div`,{className:`absolute inset-0 -z-10 pointer-events-none`,style:{background:n.backgroundValue}})):null)(),(0,X.jsxs)(`div`,{className:`relative w-full h-full flex flex-col overflow-hidden`,style:o,children:[(()=>{let e=n.cardBackgroundType||`solid`,t={borderRadius:`${Math.max(0,n.borderRadius-n.borderWidth)}px`};return e===`image`&&n.cardBackgroundImage?(0,X.jsx)(`div`,{className:`absolute inset-0 overflow-hidden -z-10 pointer-events-none`,style:t,children:(0,X.jsx)(`div`,{style:{width:`100%`,height:`100%`,backgroundImage:`url(${n.cardBackgroundImage})`,backgroundPosition:`center`,backgroundSize:`cover`,transform:`translate(${n.cardBackgroundConfig.x}px, ${n.cardBackgroundConfig.y}px) scale(${n.cardBackgroundConfig.scale})`,filter:`blur(${n.cardBackgroundConfig.blur}px)`}})}):e===`gradient`?(0,X.jsx)(`div`,{className:`absolute inset-0 -z-10 pointer-events-none`,style:{...t,background:n.cardGradientValue}}):(0,X.jsx)(`div`,{className:`absolute inset-0 -z-10 pointer-events-none bg-current`,style:{...t,color:n.backgroundColor}})})(),n.template===`default`&&(0,X.jsx)(`div`,{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-pink-400 to-orange-300 blur-3xl opacity-20 -z-0 pointer-events-none`}),(0,X.jsxs)(`div`,{className:`relative z-10 h-full flex flex-col`,children:[(0,X.jsx)(`div`,{className:`prose prose-sm max-w-none flex-1 p-8 overflow-hidden`,children:(0,X.jsx)(U,{remarkPlugins:[H,W],components:{h1:({...e})=>(0,X.jsxs)(`div`,{className:`flex flex-col items-center mb-8 first:mt-0 mt-8`,children:[(0,X.jsx)(`h1`,{style:{color:n.h1Color||n.textColor},className:`text-3xl font-bold mb-2 text-center`,...e}),(0,X.jsx)(`div`,{className:`h-1 w-24 rounded-full`,style:{backgroundColor:n.h1LineColor||n.accentColor}})]}),h2:({...e})=>(0,X.jsx)(`div`,{className:`flex justify-center mb-6 mt-8 first:mt-0`,children:(0,X.jsx)(`h2`,{style:{backgroundColor:n.h2BackgroundColor||n.accentColor,color:n.h2Color||`#fff`},className:`text-lg font-bold px-4 py-1.5 shadow-md rounded-lg`,...e})}),h3:({...e})=>(0,X.jsx)(`h3`,{style:{color:n.h3Color||n.textColor,borderLeftColor:n.h3LineColor||n.accentColor},className:`text-xl font-bold mb-4 mt-6 first:mt-0 pl-3 border-l-4`,...e}),p:({...e})=>(0,X.jsx)(`p`,{style:{color:n.textColor},className:`mb-4 leading-relaxed opacity-90 first:mt-0`,...e}),ul:({...e})=>(0,X.jsx)(`ul`,{style:{color:n.textColor},className:`mb-4 list-disc list-outside pl-5 space-y-1`,...e}),ol:({...e})=>(0,X.jsx)(`ol`,{style:{color:n.textColor},className:`mb-4 list-decimal list-outside pl-5 space-y-1`,...e}),li:({...e})=>(0,X.jsx)(`li`,{className:`pl-1 marker:opacity-70 [&>p]:mb-2`,...e}),table:({...e})=>(0,X.jsx)(`div`,{className:`overflow-x-auto mb-6 rounded-lg border border-current opacity-90`,children:(0,X.jsx)(`table`,{className:`w-full text-left text-sm border-collapse`,...e})}),thead:({...e})=>(0,X.jsx)(`thead`,{className:`bg-black/5 dark:bg-white/10 font-semibold`,...e}),tbody:({...e})=>(0,X.jsx)(`tbody`,{className:`divide-y divide-current/10`,...e}),tr:({...e})=>(0,X.jsx)(`tr`,{className:`hover:bg-black/5 dark:hover:bg-white/5 transition-colors`,...e}),th:({...e})=>(0,X.jsx)(`th`,{className:`p-3 border-b border-current/20 whitespace-nowrap`,...e}),td:({...e})=>(0,X.jsx)(`td`,{className:`p-3 border-b border-current/10`,...e}),pre:({children:e})=>(0,X.jsx)(X.Fragment,{children:e}),blockquote:({...e})=>(0,X.jsx)(`blockquote`,{style:{borderLeftColor:n.blockquoteBorderColor,backgroundColor:n.blockquoteBackgroundColor},className:`border-l-4 pl-4 py-2 my-4 italic opacity-90 rounded-r-lg rounded-bl-sm [&>p:last-child]:mb-0`,...e}),a:({...e})=>(0,X.jsx)(`a`,{style:{color:n.accentColor},className:`underline decoration-auto underline-offset-2`,...e}),img:({src:e,alt:t,...n})=>{if(e===`spacer`)return(0,X.jsx)(`div`,{className:`w-full`,style:{height:`200px`}});let r,i=e;if(e&&e.includes(`#width=`)){let t=e.split(`#width=`);i=t[0],r=t[1]}return(0,X.jsx)(`img`,{src:i,alt:t,crossOrigin:`anonymous`,className:`markdown-image`,style:{display:`block`,maxWidth:`100%`,width:r||`auto`,borderRadius:`8px`,marginTop:`1rem`,marginBottom:`1rem`},...n})},code:({children:e,...t})=>String(e??``).includes(`
`)?(0,X.jsx)(`code`,{style:{backgroundColor:n.codeBackgroundColor,fontSize:`0.8em`},className:`block rounded-lg p-4 font-mono my-4 overflow-x-auto whitespace-pre-wrap break-words`,...t,children:e}):(0,X.jsx)(`code`,{style:{backgroundColor:n.codeBackgroundColor},className:`rounded px-1.5 py-0.5 text-[0.9em] font-mono`,...t,children:e})},children:e})}),(0,X.jsxs)(`div`,{className:`flex-shrink-0 w-full px-8 pb-4 pt-2 flex items-center relative font-mono uppercase tracking-widest pointer-events-none text-[10px] h-8`,style:{opacity:n.watermark.opacity??.6},children:[(0,X.jsxs)(`div`,{className:`absolute left-8 flex items-center gap-4`,children:[n.pageNumber.enabled&&n.pageNumber.position===`left`&&(0,X.jsx)(`span`,{className:`font-bold`,children:t+1}),n.watermark.enabled&&n.watermark.position===`left`&&(0,X.jsx)(`span`,{children:n.watermark.content})]}),(0,X.jsxs)(`div`,{className:`absolute left-1/2 -translate-x-1/2 flex items-center gap-4`,children:[n.pageNumber.enabled&&n.pageNumber.position===`center`&&(0,X.jsx)(`span`,{className:`font-bold`,children:t+1}),n.watermark.enabled&&n.watermark.position===`center`&&(0,X.jsx)(`span`,{children:n.watermark.content})]}),(0,X.jsxs)(`div`,{className:`absolute right-8 flex items-center gap-4`,children:[n.watermark.enabled&&n.watermark.position===`right`&&(0,X.jsx)(`span`,{children:n.watermark.content}),n.pageNumber.enabled&&n.pageNumber.position===`right`&&(0,X.jsx)(`span`,{className:`font-bold`,children:t+1})]})]})]})]})]})},Z=({label:e,value:t,min:n,max:r,step:i=1,onChange:a})=>(0,X.jsxs)(`div`,{children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium opacity-70 block`,children:e.replace(/\s*\(px\)/i,``).replace(/\s*\(°\)/i,``)}),(0,X.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,X.jsx)(`span`,{className:`text-sm font-bold opacity-90 min-w-[2ch] text-right font-mono`,children:t}),e.includes(`(px)`)&&(0,X.jsx)(`span`,{className:`text-[10px] opacity-40 font-mono`,children:`px`}),e.includes(`(°)`)&&(0,X.jsx)(`span`,{className:`text-[10px] opacity-40 font-mono`,children:`°`})]})]}),(0,X.jsx)(`input`,{type:`range`,min:n,max:r,step:i,value:t,onChange:e=>a(parseFloat(e.target.value)),className:`w-full accent-black/80 dark:accent-white/80 h-1.5 bg-black/10 dark:bg-white/10 rounded-lg appearance-none cursor-pointer`})]}),Q=({color:e,onChange:t,label:n})=>{let[r,i]=(0,K.useState)(!1),a=(0,K.useRef)(null),o=(0,K.useRef)(null),[s,c]=(0,K.useState)({top:0,left:0}),l=()=>{if(a.current){let e=a.current.getBoundingClientRect(),t=e.bottom+8,n=e.right-240;t+240>window.innerHeight&&(t=e.top-240-8),n<10&&(n=10),c({top:t,left:n})}};return(0,K.useLayoutEffect)(()=>{r&&l()},[r]),(0,K.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&a.current&&!a.current.contains(e.target)&&i(!1)},t=()=>{r&&l()};return r&&(document.addEventListener(`mousedown`,e),window.addEventListener(`scroll`,t,!0),window.addEventListener(`resize`,l)),()=>{document.removeEventListener(`mousedown`,e),window.removeEventListener(`scroll`,t,!0),window.removeEventListener(`resize`,l)}},[r]),(0,X.jsxs)(`div`,{className:`relative`,children:[(0,X.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[n&&(0,X.jsx)(`span`,{className:`text-xs opacity-70`,children:n}),(0,X.jsxs)(`div`,{className:`flex items-center gap-2 w-full`,children:[(0,X.jsx)(`div`,{className:`relative flex-1`,children:(0,X.jsx)(`input`,{type:`text`,value:e.toUpperCase(),onChange:e=>t(e.target.value),className:`w-full bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded px-2 py-1.5 text-[10px] font-mono focus:outline-none focus:border-black/30 dark:focus:border-white/30 text-center`})}),(0,X.jsx)(`button`,{ref:a,onClick:()=>i(!r),className:`w-7 h-7 rounded-full border border-black/20 dark:border-white/20 shadow-sm relative overflow-hidden transition-transform active:scale-95 flex-shrink-0`,style:{backgroundColor:e}})]})]}),r&&(0,Ee.createPortal)((0,X.jsx)(`div`,{ref:o,className:`fixed z-[9999] p-3 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-black/10 dark:border-white/10`,style:{top:s.top,left:s.left,width:`fit-content`},children:(0,X.jsx)(fe,{color:e,onChange:t})}),document.body)]})},Ae=({ratio:e,orientation:t})=>{if(e===`custom`)return(0,X.jsx)(k,{size:14,className:`opacity-70`});let[n,r]=e.split(`:`).map(Number);t===`portrait`&&([n,r]=[r,n]);let i,a;return n>=r?(i=14,a=i*(r/n)):(a=14,i=a*(n/r)),(0,X.jsx)(`div`,{className:`border border-current opacity-70 mb-1`,style:{width:`${i}px`,height:`${a}px`}})},$=({children:e,label:t})=>(0,X.jsxs)(`div`,{className:`p-3 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5 space-y-3`,children:[t&&(0,X.jsx)(`label`,{className:`text-xs font-medium opacity-70 block mb-2`,children:t}),e]});const je=()=>{let{cardStyle:e,updateCardStyle:t,addCustomFont:n,resetCardStyle:r,undoReset:i,setIsResetting:a,isSidebarOpen:o,setIsSidebarOpen:s}=q(),c=J(),[l,u]=(0,K.useState)(!1),[f,p]=(0,K.useState)(10),m=(0,K.useRef)(null),h=()=>{a(!0),r(),u(!0),p(10),m.current&&clearInterval(m.current),m.current=setInterval(()=>{p(e=>e<=.1?(clearInterval(m.current),u(!1),a(!1),0):e-.1)},100)},g=()=>{i(),u(!1),a(!1),m.current&&clearInterval(m.current)},v=()=>{u(!1),a(!1),m.current&&clearInterval(m.current)},b=()=>f>5?`#22c55e`:f>2?`#eab308`:`#ef4444`,x=(e,n)=>{t({[e]:n})},ee=[{label:`1:1`,value:`1:1`},{label:`4:3`,value:`4:3`},{label:`3:2`,value:`3:2`},{label:`16:9`,value:`16:9`},{label:`Custom`,value:`custom`}],S=(e,n)=>{let r=e.target.files?.[0];if(r){let e=new FileReader;e.onload=e=>{if(e.target?.result){let r=e.target.result;t(n===`background`?{backgroundImage:r}:{cardBackgroundImage:r})}},e.readAsDataURL(r)}e.target.value=``};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(R,{mode:`wait`,children:o?(0,X.jsxs)(z.div,{initial:{x:350,opacity:0},animate:{x:0,opacity:1},exit:{x:350,opacity:0},transition:{type:`spring`,stiffness:300,damping:30},className:`absolute right-6 top-20 bottom-6 w-[350px] glass-panel rounded-2xl flex flex-col z-40 overflow-hidden`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between p-4 border-b border-black/10 dark:border-white/10`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-2 text-sm font-semibold opacity-80`,children:[(0,X.jsx)(E,{size:16}),(0,X.jsx)(`span`,{children:c.styleSettings})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,X.jsxs)(`button`,{onClick:h,className:`px-3 py-1.5 bg-black text-white dark:bg-white dark:text-black rounded-full flex items-center gap-1.5 transition-transform active:scale-95 shadow-lg hover:opacity-90`,title:c.resetStyle,children:[(0,X.jsx)(`span`,{className:`text-xs font-bold tracking-wider`,children:c.resetStyle}),(0,X.jsx)(F,{size:12,strokeWidth:3})]}),(0,X.jsx)(`button`,{onClick:()=>s(!1),className:`p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors`,children:(0,X.jsx)(_,{size:18})})]})]}),(0,X.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-4 custom-scrollbar`,children:[(0,X.jsx)(Oe,{}),(0,X.jsxs)(`div`,{className:`mb-8 space-y-4`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold mb-4 opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(k,{size:16}),` `,c.layout]}),(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded-lg border border-black/10 dark:border-white/10 mb-4`,children:[`portrait`,`landscape`,`autoHeight`].map(n=>(0,X.jsxs)(`button`,{onClick:()=>{t(n===`autoHeight`?{autoHeight:!0}:{orientation:n,autoHeight:!1})},className:`flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all ${(n===`autoHeight`?e.autoHeight:!e.autoHeight&&e.orientation===n)?`bg-white text-black shadow-sm`:`text-inherit hover:bg-black/5 dark:hover:bg-white/5 opacity-60 hover:opacity-100`}`,children:[n===`portrait`?(0,X.jsx)(ae,{size:14}):n===`landscape`?(0,X.jsx)(I,{size:14}):(0,X.jsx)(k,{size:14}),(0,X.jsx)(`span`,{className:`capitalize`,children:n===`autoHeight`?`自动高度`:c[n]})]},n))}),e.autoHeight?(0,X.jsx)(`div`,{className:`mb-4`,children:(0,X.jsx)(Z,{label:`卡片宽度 (px)`,value:e.width,min:300,max:1200,onChange:e=>t({width:e})})}):(0,X.jsx)(`div`,{className:`grid grid-cols-5 gap-2 mb-4`,children:ee.map(n=>{let r=e.orientation===`portrait`&&n.value!==`custom`?n.value.split(`:`).reverse().join(`:`):n.label;return(0,X.jsxs)(`button`,{onClick:()=>t({aspectRatio:n.value}),className:`p-2 rounded-lg border text-xs flex flex-col items-center justify-center gap-1 transition-all h-14 ${e.aspectRatio===n.value?`bg-black/10 dark:bg-white/20 border-black/20 dark:border-white/40 shadow-sm text-slate-900 dark:text-white`:`bg-black/5 dark:bg-white/5 border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/10 text-slate-600 dark:text-white/60`}`,children:[(0,X.jsx)(Ae,{ratio:n.value,orientation:e.orientation}),r]},n.value)})}),e.aspectRatio===`custom`&&(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3 mb-4`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider opacity-60 mb-1 block`,children:c.width}),(0,X.jsx)(`input`,{type:`number`,value:e.width,onChange:e=>t({width:parseInt(e.target.value)||0}),className:`w-full bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded p-2 text-xs focus:border-black/30 dark:focus:border-white/30 focus:outline-none`})]}),(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider opacity-60 mb-1 block`,children:c.height}),(0,X.jsx)(`input`,{type:`number`,value:e.height,onChange:e=>t({height:parseInt(e.target.value)||0}),className:`w-full bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded p-2 text-xs focus:border-black/30 dark:focus:border-white/30 focus:outline-none`})]})]}),(0,X.jsx)(Z,{label:`${c.cornerRadius} (px)`,value:e.borderRadius,min:0,max:48,onChange:e=>t({borderRadius:e})}),(0,X.jsx)(Z,{label:`内边距 (px)`,value:e.contentPadding,min:0,max:100,onChange:e=>t({contentPadding:e})}),(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,X.jsx)(Q,{label:c.border,color:e.borderColor,onChange:e=>t({borderColor:e})}),(0,X.jsx)(Z,{label:`Width (px)`,value:e.borderWidth,min:0,max:20,onChange:e=>t({borderWidth:e})})]}),(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium opacity-70`,children:c.shadow}),(0,X.jsx)(`button`,{onClick:()=>t({shadowEnabled:!e.shadowEnabled}),className:`w-10 h-5 rounded-full transition-colors relative ${e.shadowEnabled?`bg-slate-900 dark:bg-white/90`:`bg-black/10 dark:bg-white/10`}`,children:(0,X.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-white dark:bg-black/80 absolute top-1 transition-all ${e.shadowEnabled?`left-6`:`left-1`}`})})]}),e.shadowEnabled&&(0,X.jsxs)(`div`,{className:`space-y-3 p-3 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5`,children:[(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Z,{label:c.xOffset,value:e.shadowConfig?.x??0,min:-50,max:50,onChange:n=>t({shadowConfig:{...e.shadowConfig,x:n}})}),(0,X.jsx)(Z,{label:c.yOffset,value:e.shadowConfig?.y??0,min:-50,max:50,onChange:n=>t({shadowConfig:{...e.shadowConfig,y:n}})})]}),(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Z,{label:c.blur,value:e.shadowConfig?.blur??0,min:0,max:100,onChange:n=>t({shadowConfig:{...e.shadowConfig,blur:n}})}),(0,X.jsx)(Z,{label:c.spread,value:e.shadowConfig?.spread??0,min:-50,max:50,onChange:n=>t({shadowConfig:{...e.shadowConfig,spread:n}})})]}),(0,X.jsx)(Q,{label:c.colors,color:e.shadowConfig?.color||`#000000`,onChange:n=>t({shadowConfig:{...e.shadowConfig,color:n}})}),(0,X.jsx)(Z,{label:c.opacity,value:e.shadowConfig?.opacity??0,min:0,max:1,step:.01,onChange:n=>t({shadowConfig:{...e.shadowConfig,opacity:n}})})]})]})]}),(0,X.jsxs)(`div`,{className:`mb-8 space-y-4`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(d,{size:16}),` `,c.backgroundFill]}),(0,X.jsx)(`button`,{onClick:()=>t({enableBackground:!e.enableBackground}),className:`w-10 h-5 rounded-full transition-colors relative ${e.enableBackground?`bg-slate-900 dark:bg-white/90`:`bg-black/10 dark:bg-white/10`}`,children:(0,X.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-white dark:bg-black/80 absolute top-1 transition-all ${e.enableBackground?`left-6`:`left-1`}`})})]}),e.enableBackground&&(0,X.jsxs)(`div`,{className:`space-y-4 p-3 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5`,children:[(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded mb-2`,children:[`solid`,`gradient`,`image`].map(n=>(0,X.jsx)(`button`,{onClick:()=>t({backgroundType:n}),className:`flex-1 py-1 text-[10px] rounded transition-all capitalize ${e.backgroundType===n?`bg-black/10 dark:bg-white/20 text-slate-900 dark:text-white`:`text-black/50 dark:text-white/50`}`,children:c[n]},n))}),e.backgroundType===`solid`&&(0,X.jsx)(Q,{label:c.background,color:e.backgroundValue.startsWith(`#`)?e.backgroundValue:`#ffffff`,onChange:e=>t({backgroundValue:e})}),e.backgroundType===`gradient`&&(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsx)(De,{onSelect:(n,r)=>{t({gradientStart:n,gradientEnd:r,backgroundValue:`linear-gradient(${e.gradientAngle||135}deg, ${n} 0%, ${r} 100%)`})}}),(0,X.jsx)(Q,{label:c.startColor,color:e.gradientStart||`#667eea`,onChange:n=>{let r=n,i=e.gradientEnd||`#764ba2`;t({gradientStart:r,backgroundValue:`linear-gradient(${e.gradientAngle||135}deg, ${r} 0%, ${i} 100%)`})}}),(0,X.jsx)(Q,{label:c.endColor,color:e.gradientEnd||`#764ba2`,onChange:n=>{let r=e.gradientStart||`#667eea`,i=n;t({gradientEnd:i,backgroundValue:`linear-gradient(${e.gradientAngle||135}deg, ${r} 0%, ${i} 100%)`})}}),(0,X.jsx)(Z,{label:`${c.angle} (°)`,value:e.gradientAngle||135,min:0,max:360,onChange:n=>{let r=n;t({gradientAngle:r,backgroundValue:`linear-gradient(${r}deg, ${e.gradientStart||`#667eea`} 0%, ${e.gradientEnd||`#764ba2`} 100%)`})}})]}),e.backgroundType===`image`&&(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`relative`,children:[(0,X.jsx)(`input`,{type:`file`,accept:`image/*`,onChange:e=>S(e,`background`),className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10`}),(0,X.jsxs)(`button`,{className:`w-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 text-xs py-2 rounded transition-colors flex items-center justify-center gap-2`,children:[(0,X.jsx)(oe,{size:14}),` `,c.uploadImage]})]}),e.backgroundImage&&(0,X.jsxs)(`div`,{className:`space-y-3 pt-2`,children:[(0,X.jsx)(`div`,{className:`aspect-video w-full rounded-lg overflow-hidden bg-black/5 relative`,children:(0,X.jsx)(`img`,{src:e.backgroundImage,className:`w-full h-full object-cover`})}),(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Z,{label:`X Offset`,value:e.backgroundConfig?.x||0,min:-100,max:100,onChange:n=>t({backgroundConfig:{...e.backgroundConfig,x:n}})}),(0,X.jsx)(Z,{label:`Y Offset`,value:e.backgroundConfig?.y||0,min:-100,max:100,onChange:n=>t({backgroundConfig:{...e.backgroundConfig,y:n}})})]}),(0,X.jsx)(Z,{label:c.scale,value:e.backgroundConfig?.scale||1,min:.1,max:3,step:.1,onChange:n=>t({backgroundConfig:{...e.backgroundConfig,scale:n}})}),(0,X.jsx)(Z,{label:c.blur,value:e.backgroundConfig?.blur||0,min:0,max:20,onChange:n=>t({backgroundConfig:{...e.backgroundConfig,blur:n}})})]})]}),(0,X.jsx)(Z,{label:c.padding,value:e.padding,min:0,max:100,onChange:e=>t({padding:e})})]})]}),(0,X.jsxs)(`div`,{className:`mb-8 space-y-4`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold mb-4 opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(E,{size:16}),` `,c.cardBackground]}),(0,X.jsxs)($,{label:c.cardBackground,children:[(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded mb-2`,children:[`solid`,`gradient`,`image`].map(n=>(0,X.jsx)(`button`,{onClick:()=>t({cardBackgroundType:n}),className:`flex-1 py-1 text-[10px] rounded transition-all capitalize ${e.cardBackgroundType===n?`bg-black/10 dark:bg-white/20 text-slate-900 dark:text-white`:`text-black/50 dark:text-white/50`}`,children:c[n]},n))}),e.cardBackgroundType===`solid`&&(0,X.jsx)(Q,{label:c.solid,color:e.backgroundColor,onChange:e=>t({backgroundColor:e})}),e.cardBackgroundType===`gradient`&&(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsx)(De,{onSelect:(n,r)=>{t({cardGradientStart:n,cardGradientEnd:r,cardGradientValue:`linear-gradient(${e.cardGradientAngle||135}deg, ${n} 0%, ${r} 100%)`})}}),(0,X.jsx)(Q,{label:c.startColor,color:e.cardGradientStart||`#ffffff`,onChange:n=>{let r=n,i=e.cardGradientEnd||`#f0f0f0`;t({cardGradientStart:r,cardGradientValue:`linear-gradient(${e.cardGradientAngle||135}deg, ${r} 0%, ${i} 100%)`})}}),(0,X.jsx)(Q,{label:c.endColor,color:e.cardGradientEnd||`#f0f0f0`,onChange:n=>{let r=e.cardGradientStart||`#ffffff`,i=n;t({cardGradientEnd:i,cardGradientValue:`linear-gradient(${e.cardGradientAngle||135}deg, ${r} 0%, ${i} 100%)`})}}),(0,X.jsx)(Z,{label:`${c.angle} (°)`,value:e.cardGradientAngle||135,min:0,max:360,onChange:n=>{let r=n;t({cardGradientAngle:r,cardGradientValue:`linear-gradient(${r}deg, ${e.cardGradientStart||`#ffffff`} 0%, ${e.cardGradientEnd||`#f0f0f0`} 100%)`})}})]}),e.cardBackgroundType===`image`&&(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`relative`,children:[(0,X.jsx)(`input`,{type:`file`,accept:`image/*`,onChange:e=>S(e,`cardBackground`),className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10`}),(0,X.jsxs)(`button`,{className:`w-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 text-xs py-2 rounded transition-colors flex items-center justify-center gap-2`,children:[(0,X.jsx)(oe,{size:14}),` `,c.uploadImage]})]}),e.cardBackgroundImage&&(0,X.jsxs)(`div`,{className:`space-y-3 pt-2`,children:[(0,X.jsx)(`div`,{className:`aspect-video w-full rounded-lg overflow-hidden bg-black/5 relative`,children:(0,X.jsx)(`img`,{src:e.cardBackgroundImage,className:`w-full h-full object-cover`})}),(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Z,{label:`X Offset`,value:e.cardBackgroundConfig?.x||0,min:-100,max:100,step:.1,onChange:n=>t({cardBackgroundConfig:{...e.cardBackgroundConfig,x:n}})}),(0,X.jsx)(Z,{label:`Y Offset`,value:e.cardBackgroundConfig?.y||0,min:-100,max:100,step:.1,onChange:n=>t({cardBackgroundConfig:{...e.cardBackgroundConfig,y:n}})})]}),(0,X.jsx)(Z,{label:c.scale,value:e.cardBackgroundConfig?.scale||1,min:.1,max:3,step:.01,onChange:n=>t({cardBackgroundConfig:{...e.cardBackgroundConfig,scale:n}})}),(0,X.jsx)(Z,{label:c.blur,value:e.cardBackgroundConfig?.blur||0,min:0,max:20,step:.1,onChange:n=>t({cardBackgroundConfig:{...e.cardBackgroundConfig,blur:n}})})]})]})]}),(0,X.jsx)($,{children:(0,X.jsx)(Q,{label:c.text,color:e.textColor,onChange:e=>x(`textColor`,e)})}),(0,X.jsx)($,{children:(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Q,{label:c.blockquoteBackground,color:e.blockquoteBackgroundColor.substring(0,7),onChange:e=>x(`blockquoteBackgroundColor`,e+`20`)}),(0,X.jsx)(Q,{label:c.blockquoteBorder,color:e.blockquoteBorderColor,onChange:e=>x(`blockquoteBorderColor`,e)})]})}),(0,X.jsx)($,{children:(0,X.jsx)(Q,{label:c.codeBackground,color:e.codeBackgroundColor.substring(0,7),onChange:e=>x(`codeBackgroundColor`,e+`20`)})}),(0,X.jsx)($,{children:(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Q,{label:c.h1Color,color:e.h1Color||`#000000`,onChange:e=>x(`h1Color`,e)}),(0,X.jsx)(Q,{label:c.h1LineColor,color:e.h1LineColor||`#3b82f6`,onChange:e=>x(`h1LineColor`,e)})]})}),(0,X.jsx)($,{children:(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Q,{label:c.h2Color,color:e.h2Color||`#ffffff`,onChange:e=>x(`h2Color`,e)}),(0,X.jsx)(Q,{label:c.h2BgColor,color:e.h2BackgroundColor||`#3b82f6`,onChange:e=>x(`h2BackgroundColor`,e)})]})}),(0,X.jsx)($,{children:(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,X.jsx)(Q,{label:c.h3Color,color:e.h3Color||`#000000`,onChange:e=>x(`h3Color`,e)}),(0,X.jsx)(Q,{label:c.h3LineColor,color:e.h3LineColor||`#3b82f6`,onChange:e=>x(`h3LineColor`,e)})]})})]}),(0,X.jsxs)(`div`,{className:`mb-8 space-y-4`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold mb-4 opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(M,{size:16}),` `,c.typography]}),(0,X.jsxs)(`div`,{className:`bg-black/5 dark:bg-white/5 p-4 rounded-lg border border-black/10 dark:border-white/10 mb-4 text-center`,children:[(0,X.jsx)(`div`,{className:`text-xs opacity-50 mb-1 uppercase tracking-wider`,children:c.currentFont}),(0,X.jsx)(`div`,{className:`text-xl font-bold truncate`,style:{fontFamily:e.fontFamily},children:e.fontFamily})]}),(0,X.jsxs)(`div`,{className:`mb-4`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium mb-2 block opacity-70`,children:c.presetFonts}),(0,X.jsx)(`div`,{className:`grid grid-cols-2 gap-2`,children:[`Inter`,`serif`,`monospace`,`Arial`].map(n=>(0,X.jsx)(`button`,{onClick:()=>t({fontFamily:n}),className:`p-2 rounded text-xs border transition-all ${e.fontFamily===n?`bg-black/10 dark:bg-white/20 border-black/20 dark:border-white/40 shadow-sm`:`bg-black/5 dark:bg-white/5 border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/10`}`,style:{fontFamily:n},children:n},n))})]}),e.customFonts.length>0&&(0,X.jsxs)(`div`,{className:`mb-4`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium mb-2 block opacity-70`,children:c.customFonts}),(0,X.jsx)(`div`,{className:`grid grid-cols-2 gap-2 mb-2`,children:e.customFonts.map(n=>(0,X.jsx)(`button`,{onClick:()=>t({fontFamily:n.name}),className:`p-2 rounded text-xs border transition-all truncate ${e.fontFamily===n.name?`bg-black/10 dark:bg-white/20 border-black/20 dark:border-white/40 shadow-sm`:`bg-black/5 dark:bg-white/5 border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/10`}`,style:{fontFamily:n.name},children:n.name},n.name))})]}),(0,X.jsxs)(`div`,{className:`mb-4`,children:[(0,X.jsxs)(`div`,{className:`relative`,children:[(0,X.jsx)(`input`,{type:`file`,accept:`.ttf,.otf,.woff,.woff2`,onChange:r=>{let i=r.target.files?.[0];if(i){let r=i.name.replace(/\.[^/.]+$/,``),a=new FileReader;a.onload=i=>{if(i.target?.result){let a=i.target.result,o=e.customFonts.some(e=>e.name===r),s=r.toLowerCase().includes(`variable`)||r.toLowerCase().includes(`var`)||r.toLowerCase().includes(`vf`);o||n({name:r,url:a,weight:s?`variable`:`normal`}),setTimeout(()=>{t({fontFamily:r})},100)}},a.readAsDataURL(i)}r.target.value=``},className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10`}),(0,X.jsxs)(`button`,{className:`w-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 text-xs py-2 rounded transition-colors flex items-center justify-center gap-2`,children:[(0,X.jsx)(T,{size:14}),` `,c.uploadFont]})]}),e.customFonts.find(t=>t.name===e.fontFamily)&&(0,X.jsx)(`div`,{className:`mt-2 flex items-center justify-between px-1`,children:(0,X.jsxs)(`label`,{className:`text-[10px] opacity-60 cursor-pointer flex items-center gap-2`,children:[(0,X.jsx)(`input`,{type:`checkbox`,checked:e.customFonts.find(t=>t.name===e.fontFamily)?.weight===`variable`,onChange:n=>{let r=e.customFonts.find(t=>t.name===e.fontFamily);r&&t({customFonts:e.customFonts.map(e=>e.name===r.name?{...e,weight:n.target.checked?`variable`:`normal`}:e)})},className:`rounded border-black/20 dark:border-white/20 bg-black/10 dark:bg-white/10`}),(0,X.jsx)(`span`,{children:`Variable Font (Enable All Weights)`})]})})]}),(0,X.jsx)(Z,{label:`文本字号`,value:e.fontSize,min:12,max:96,onChange:e=>t({fontSize:e})}),(0,X.jsxs)(`div`,{className:`grid grid-cols-3 gap-3 mb-4`,children:[(0,X.jsx)(Z,{label:`H1 字号`,value:e.h1FontSize,min:16,max:48,onChange:e=>t({h1FontSize:e})}),(0,X.jsx)(Z,{label:`H2 字号`,value:e.h2FontSize,min:14,max:36,onChange:e=>t({h2FontSize:e})}),(0,X.jsx)(Z,{label:`H3 字号`,value:e.h3FontSize,min:12,max:24,onChange:e=>t({h3FontSize:e})})]}),(0,X.jsx)(Z,{label:c.headingScale,value:e.headingScale,min:.5,max:2,step:.1,onChange:e=>t({headingScale:e})})]}),(0,X.jsxs)(`div`,{className:`mb-8 space-y-4`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold mb-4 opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(N,{size:16}),` `,c.watermark,` / `,c.pageNumber]}),(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium opacity-70`,children:c.watermark}),(0,X.jsx)(`button`,{onClick:()=>t({watermark:{...e.watermark,enabled:!e.watermark.enabled}}),className:`w-10 h-5 rounded-full transition-colors relative ${e.watermark.enabled?`bg-slate-900 dark:bg-white/90`:`bg-black/10 dark:bg-white/10`}`,children:(0,X.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-white dark:bg-black/80 absolute top-1 transition-all ${e.watermark.enabled?`left-6`:`left-1`}`})})]}),e.watermark.enabled&&(0,X.jsxs)(`div`,{className:`p-3 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5 space-y-3`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider opacity-60 mb-1 block`,children:c.content}),(0,X.jsx)(`input`,{type:`text`,value:e.watermark.content,onChange:n=>t({watermark:{...e.watermark,content:n.target.value}}),className:`w-full bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded p-2 text-xs focus:border-black/30 dark:focus:border-white/30 focus:outline-none text-slate-900 dark:text-white`})]}),(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider opacity-60 mb-1 block`,children:c.position}),(0,X.jsx)(`div`,{className:`flex bg-black/5 dark:bg-white/5 rounded p-1`,children:[`left`,`center`,`right`].map(n=>(0,X.jsx)(`button`,{onClick:()=>t({watermark:{...e.watermark,position:n}}),className:`flex-1 py-1 text-[10px] rounded transition-all capitalize ${e.watermark.position===n?`bg-black/10 dark:bg-white/20 text-slate-900 dark:text-white`:`text-black/50 dark:text-white/50`}`,children:c[n]},n))})]}),(0,X.jsx)(Z,{label:c.opacity,value:e.watermark.opacity,min:0,max:1,step:.05,onChange:n=>t({watermark:{...e.watermark,opacity:n}})}),(0,X.jsx)(Z,{label:c.fontSize,value:e.watermark.fontSize,min:6,max:64,step:1,onChange:n=>t({watermark:{...e.watermark,fontSize:n}})})]})]}),(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium opacity-70`,children:c.pageNumber}),(0,X.jsx)(`button`,{onClick:()=>t({pageNumber:{...e.pageNumber,enabled:!e.pageNumber.enabled}}),className:`w-10 h-5 rounded-full transition-colors relative ${e.pageNumber.enabled?`bg-slate-900 dark:bg-white/90`:`bg-black/10 dark:bg-white/10`}`,children:(0,X.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-white dark:bg-black/80 absolute top-1 transition-all ${e.pageNumber.enabled?`left-6`:`left-1`}`})})]}),e.pageNumber.enabled&&(0,X.jsxs)(`div`,{className:`p-3 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5 space-y-3`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider opacity-60 mb-1 block`,children:c.position}),(0,X.jsx)(`div`,{className:`flex bg-black/5 dark:bg-white/5 rounded p-1`,children:[`left`,`center`,`right`].map(n=>(0,X.jsx)(`button`,{onClick:()=>t({pageNumber:{...e.pageNumber,position:n}}),className:`flex-1 py-1 text-[10px] rounded transition-all capitalize ${e.pageNumber.position===n?`bg-black/10 dark:bg-white/20 text-slate-900 dark:text-white`:`text-black/50 dark:text-white/50`}`,children:c[n]},n))})]}),(0,X.jsx)(Z,{label:c.opacity,value:e.pageNumber.opacity,min:0,max:1,step:.05,onChange:n=>t({pageNumber:{...e.pageNumber,opacity:n}})}),(0,X.jsx)(Z,{label:c.fontSize,value:e.pageNumber.fontSize,min:6,max:64,step:1,onChange:n=>t({pageNumber:{...e.pageNumber,fontSize:n}})})]})]})]}),(0,X.jsxs)(`div`,{className:`mb-8`,children:[(0,X.jsxs)(`h2`,{className:`text-sm font-semibold mb-4 opacity-80 flex items-center gap-2`,children:[(0,X.jsx)(I,{size:16}),` `,c.customCSS]}),(0,X.jsx)(`textarea`,{value:e.customCSS,onChange:e=>t({customCSS:e.target.value}),placeholder:`.card { ... }`,className:`w-full h-32 bg-black/5 dark:bg-white/5 p-3 rounded text-xs font-mono resize-none focus:outline-none focus:ring-1 ring-black/20 dark:ring-white/20 border border-black/10 dark:border-white/10 placeholder-black/30 dark:placeholder-white/20`})]})]})]}):(0,X.jsx)(z.button,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:50,opacity:0},whileHover:{scale:1.1},onClick:()=>s(!0),className:`absolute right-6 top-1/2 -translate-y-1/2 p-3 glass-panel rounded-full z-40 text-inherit shadow-xl`,children:(0,X.jsx)(y,{size:24})})}),(0,X.jsx)(R,{children:l&&(0,X.jsx)(z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] pointer-events-auto`,children:(0,X.jsxs)(`div`,{className:`bg-white/40 dark:bg-black/40 backdrop-blur-2xl border border-white/20 dark:border-white/10 shadow-2xl rounded-full px-6 py-4 flex items-center gap-6 min-w-[320px]`,children:[(0,X.jsxs)(`div`,{className:`relative w-12 h-12 flex-shrink-0 flex items-center justify-center`,children:[(0,X.jsxs)(`svg`,{className:`w-12 h-12 transform -rotate-90`,viewBox:`0 0 48 48`,children:[(0,X.jsx)(`circle`,{cx:`24`,cy:`24`,r:`20`,stroke:`currentColor`,strokeWidth:`3`,fill:`transparent`,className:`text-black/5 dark:text-white/5`}),(0,X.jsx)(z.circle,{cx:`24`,cy:`24`,r:`20`,stroke:b(),strokeWidth:`3`,fill:`transparent`,strokeDasharray:`125.6`,animate:{strokeDashoffset:125.6*(1-f/10)},transition:{duration:.1,ease:`linear`},strokeLinecap:`round`})]}),(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,X.jsxs)(`span`,{className:`text-[10px] font-bold font-mono text-black dark:text-white leading-none`,children:[Math.ceil(f),`s`]})})]}),(0,X.jsxs)(`div`,{className:`flex-1`,children:[(0,X.jsx)(`h3`,{className:`text-sm font-bold text-black dark:text-white mb-0.5 whitespace-nowrap`,children:c.styleResetToast}),(0,X.jsx)(`p`,{className:`text-[10px] opacity-60 text-black dark:text-white whitespace-nowrap`,children:c.settingsRestoredToast})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,X.jsx)(`button`,{onClick:g,className:`px-5 py-2 bg-black dark:bg-white text-white dark:text-black rounded-full text-xs font-bold hover:opacity-90 transition-opacity active:scale-95 whitespace-nowrap`,children:c.undo}),(0,X.jsx)(`button`,{onClick:v,className:`p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-full transition-colors text-black dark:text-white opacity-40 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(T,{size:18,className:`rotate-45`})})]})]})})})]})};var Me=a(),Ne=e(de(),1);const Pe=({isOpen:e,onClose:t})=>{let n=J(),{language:r}=q(),[i,a]=(0,K.useState)(null),o=[{version:`v1.7.1`,date:`2025-12-30`,title:{en:`Enhanced Customization & Fixes`,zh:`水印字号调整 & 问题修复`},changes:{en:[`Added font size adjustment for page numbers and watermarks`,`Added opacity control for page numbers`,`Improved blockquote styling: removed extra top spacing`,`Enhanced editor: support for multi-line list selection and toggling`,`Integrated Tauri build into deployment process`],zh:[`新增页码和水印字号调整功能`,`新增页码不透明度调节功能`,`优化引用块样式：移除了顶部的多余空白`,`增强编辑器：支持多行列表的同时选择与切换`,`自动化部署：集成 Tauri 桌面端打包流程`]},demo:`v171-features`},{version:`v1.7.0`,date:`2025-12-29`,title:{en:`Smart Pagination & Auto Height`,zh:`智能自动分页 & 自动高度`},changes:{en:[`Added "Auto Pagination" star button to toolbar for one-click content splitting`,`New "Auto Height" mode allows cards to grow vertically based on content`,`Independent heading styles: customize font size and color for H1, H2, and H3`,`Added preview zoom slider and support for Ctrl/Command+Scroll shortcut zoom`,`Support for card padding adjustment`,`Support for strikethrough syntax and new editor toolbar shortcuts`,`Improved pagination algorithm with precise CJK character height estimation`,`Enhanced semantic block splitting to minimize empty space in cards`],zh:[`工具栏新增“自动分页”星形按钮，一键智能分割长文本`,`新增“自动高度”模式，卡片长度随内容自动增长`,`标题样式独立化：支持为 H1、H2、H3 分别设置字号、颜色及装饰线`,`新增预览窗口缩放滑条，同时支持 Ctrl/Command+滚轮的快捷缩放`,`支持卡片内边距调整`,`支持删除线语法，并新增编辑器快捷工具`,`优化分页算法：引入精确的中文字符高度估算，分页更精准`,`增强语义化分块：基于块级元素进行分页，最大限度减少底部留白`]},demo:`v170-features`},{version:`v1.6.0`,date:`2025-12-28`,title:{en:`Custom Export & Smart Hints`,zh:`自定义导出 & 智能提示`},changes:{en:[`Added onboarding tooltip to help users find the feedback and update entrance`,`Overhauled export settings with brand new custom filename feature`,`Support for multiple naming parts: Prefix, Date, Custom Name, and Number Order`,`Drag-and-drop or use arrows to reorder filename segments`,`New hover animations for feedback and changelog buttons`,`Added ZIP archive export for better compatibility with system folders`],zh:[`新增引导提示框，快速帮助用户找到更新反馈入口`,`全面重构导出设置，新增全新的文件名自定义功能`,`支持多维度命名：前缀、日期、自定义名称、数字顺序`,`支持通过箭头或拖拽调整文件名各部分的先后顺序`,`为意见反馈和更新日志按钮添加了动感的悬浮动画`,`新增 ZIP 压缩包导出模式，完美解决系统文件夹导出权限问题`]},demo:`export-naming`},{version:`v1.5.1`,date:`2025-12-26`,title:{en:`Responsive Layout & Safe Zones`,zh:`响应式布局 & 安全区域`},changes:{en:[`Fixed preview card overlap with editor/sidebar`,`Added intelligent safe zone calculation`,`Card automatically centers in available space`,`Improved scaling logic for large dimensions`],zh:[`修复了预览卡片与编辑器/侧边栏重叠的问题`,`增加了智能安全区域计算`,`卡片自动在剩余可用空间中居中显示`,`优化了大尺寸卡片的缩放逻辑`]},demo:`responsive-layout`},{version:`v1.5.0`,date:`2025-12-26`,title:{en:`Style Presets & Gradients`,zh:`样式预设 & 渐变系统`},changes:{en:[`Added style presets management (Save, Preview, Delete)`,`Added 8 beautiful built-in gradient presets`,`Persistent storage for all your custom styles`,`Optimized default shadow effects`],zh:[`增加样式预设管理功能（保存、预览、删除）`,`内置 8 款清新好看的渐变预设`,`所有自定义样式均支持持久化存储`,`优化了默认的阴影视觉效果`]},demo:`presets-gradients`},{version:`v1.4.1`,date:`2025-12-25`,title:{en:`Markdown Hard Breaks`,zh:`Markdown 文本硬换行`},changes:{en:[`Added support for hard line breaks in Markdown editor (What You See Is What You Get)`,`No need to add two spaces or <br> for line breaks`,`Improved text rendering consistency between editor and card`],zh:[`增加 Markdown 编辑器文本硬换行支持（所见即所得）`,`无需添加两个空格或 <br> 标签即可换行`,`优化了编辑器与卡片之间的文本渲染一致性`]},demo:`markdown-breaks`},{version:`v1.4.0`,date:`2025-12-24`,title:{en:`Reset Style Undo`,zh:`样式重置撤回`},changes:{en:[`Added undo functionality after resetting styles`,`10-second countdown for undo operation`,`Redesigned reset notification toast`],zh:[`增加了样式重置后的撤回功能`,`撤回操作支持 10 秒倒计时`,`重新设计了重置通知样式`]},demo:`reset-undo`},{version:`v1.3.0`,date:`2025-12-23`,title:{en:`Custom Background & Layout`,zh:`自定义背景 & 布局优化`},changes:{en:[`Added support for custom background images`,`Optimized slider parameter display (moved to right side)`,`Fixed slider overflow layout issues`,`Refactored side panel for better visibility`],zh:[`增加自定义背景图片支持`,`优化滑块参数显示（移至右侧独立显示）`,`修复滑块溢出布局问题`,`重构侧边栏以提高可见性`]},demo:`bg-layout`}];(0,K.useEffect)(()=>{e&&!i&&a(o[0].version)},[e]);let s=o.find(e=>e.version===i)||o[0];return(0,X.jsx)(R,{children:e&&(0,X.jsxs)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-8`,children:[(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:`absolute inset-0 bg-slate-900/60 dark:bg-black/80 backdrop-blur-md`,onClick:t,children:(0,X.jsx)(`div`,{className:`absolute inset-0 opacity-[0.04] pointer-events-none mix-blend-overlay`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}})}),(0,X.jsxs)(z.div,{initial:{scale:.96,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.96,opacity:0,y:20},transition:{type:`spring`,damping:25,stiffness:300},className:`relative w-full max-w-4xl h-[80vh] overflow-hidden rounded-3xl flex flex-col md:flex-row border border-white/20 dark:border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.3)] dark:shadow-[0_20px_50px_rgba(0,0,0,0.5)]`,style:{background:`rgba(255, 255, 255, 0.7)`,backdropFilter:`blur(20px) saturate(180%)`,WebkitBackdropFilter:`blur(20px) saturate(180%)`},children:[(0,X.jsx)(`div`,{className:`absolute inset-0 bg-white/40 dark:bg-[#0a0a0a]/90 -z-10`}),(0,X.jsxs)(`div`,{className:`w-full md:w-64 flex-shrink-0 bg-black/5 dark:bg-white/5 border-b md:border-b-0 md:border-r border-black/5 dark:border-white/5 flex flex-col`,children:[(0,X.jsxs)(`div`,{className:`p-6 pb-4`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-2 mb-1`,children:[(0,X.jsx)(w,{size:20,className:`text-blue-500`}),(0,X.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 dark:text-white`,children:n.changelogTitle||`Updates`})]}),(0,X.jsx)(`p`,{className:`text-xs text-slate-500 dark:text-slate-400 opacity-80`,children:`Md2Card History`})]}),(0,X.jsx)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar px-3 pb-4 space-y-1`,children:o.map(e=>(0,X.jsxs)(`button`,{onClick:()=>a(e.version),className:`w-full text-left px-4 py-3 rounded-xl transition-all flex items-center justify-between group ${i===e.version?`bg-white dark:bg-white/10 shadow-md dark:shadow-black/40`:`hover:bg-black/5 dark:hover:bg-white/5`}`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`div`,{className:`text-sm font-bold ${i===e.version?`text-blue-600 dark:text-blue-400`:`text-slate-700 dark:text-slate-300`}`,children:e.version}),(0,X.jsx)(`div`,{className:`text-[10px] text-slate-400 dark:text-slate-500 font-medium mt-0.5`,children:e.date})]}),i===e.version&&(0,X.jsx)(_,{size:14,className:`text-blue-500 opacity-100`})]},e.version))}),(0,X.jsx)(`div`,{className:`p-4 border-t border-black/5 dark:border-white/5 text-center md:text-left`,children:(0,X.jsx)(`p`,{className:`text-[10px] text-slate-400 dark:text-slate-500 font-medium`,children:`Made with ❤️ by LuN3cy`})})]}),(0,X.jsxs)(`div`,{className:`flex-1 flex flex-col h-full overflow-hidden relative`,children:[(0,X.jsx)(`button`,{onClick:t,className:`absolute top-4 right-4 p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white z-20`,children:(0,X.jsx)(P,{size:20})}),(0,X.jsx)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar p-6 md:p-10`,children:(0,X.jsxs)(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,X.jsxs)(`div`,{className:`flex items-baseline gap-3 mb-6`,children:[(0,X.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 dark:text-white`,children:s.version}),(0,X.jsx)(`span`,{className:`text-sm font-medium px-2.5 py-0.5 rounded-full bg-blue-500/10 text-blue-600 dark:text-blue-400 border border-blue-500/10`,children:r===`zh`?`已发布`:`Released`})]}),(0,X.jsx)(`h2`,{className:`text-xl font-bold text-slate-800 dark:text-slate-200 mb-6`,children:r===`zh`?s.title.zh:s.title.en}),(0,X.jsx)(`div`,{className:`space-y-3 mb-10`,children:(r===`zh`?s.changes.zh:s.changes.en).map((e,t)=>(0,X.jsxs)(`div`,{className:`flex items-start gap-3 text-slate-600 dark:text-slate-300 leading-relaxed group`,children:[(0,X.jsx)(`div`,{className:`mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500/40 group-hover:bg-blue-500 transition-colors shrink-0`}),(0,X.jsx)(`span`,{children:e})]},t))}),s.demo&&(0,X.jsxs)(`div`,{className:`border-t border-black/5 dark:border-white/5 pt-8`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-2 mb-6`,children:[(0,X.jsx)(`div`,{className:`p-1.5 bg-purple-500/10 rounded-lg text-purple-600 dark:text-purple-400`,children:(0,X.jsx)(I,{size:16})}),(0,X.jsx)(`h3`,{className:`text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400`,children:r===`zh`?`功能演示`:`Feature Demo`})]}),s.demo===`v171-features`&&(0,X.jsxs)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-6 md:p-8 border border-black/5 dark:border-white/10 shadow-inner min-h-[400px] flex flex-col items-center gap-12`,children:[(0,X.jsx)(Fe,{}),(0,X.jsx)(`div`,{className:`w-full h-px bg-black/5 dark:bg-white/10`}),(0,X.jsx)(Ie,{})]}),s.demo===`v170-features`&&(0,X.jsxs)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-6 md:p-8 border border-black/5 dark:border-white/10 shadow-inner min-h-[500px] flex flex-col items-center gap-12`,children:[(0,X.jsx)(Je,{}),(0,X.jsx)(`div`,{className:`w-full h-px bg-black/5 dark:bg-white/10`}),(0,X.jsx)(Ge,{}),(0,X.jsx)(`div`,{className:`w-full h-px bg-black/5 dark:bg-white/10`}),(0,X.jsx)(Ke,{}),(0,X.jsx)(`div`,{className:`w-full h-px bg-black/5 dark:bg-white/10`}),(0,X.jsx)(qe,{})]}),s.demo===`export-naming`&&(0,X.jsxs)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-6 md:p-8 border border-black/5 dark:border-white/5 shadow-inner min-h-[400px] flex flex-col items-center justify-center gap-8`,children:[(0,X.jsx)(ze,{}),(0,X.jsx)(`div`,{className:`w-full max-w-md h-px bg-black/5 dark:bg-white/5`}),(0,X.jsx)(Re,{})]}),s.demo===`markdown-breaks`&&(0,X.jsx)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-4 md:p-6 border border-black/5 dark:border-white/5 shadow-inner`,children:(0,X.jsx)(Le,{})}),s.demo===`presets-gradients`&&(0,X.jsx)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-6 border border-black/5 dark:border-white/5 shadow-inner min-h-[300px] flex flex-col items-center justify-center gap-8`,children:(0,X.jsx)(He,{})}),s.demo===`responsive-layout`&&(0,X.jsx)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-6 border border-black/5 dark:border-white/5 shadow-inner min-h-[300px] flex flex-col items-center justify-center gap-8`,children:(0,X.jsx)(We,{})}),s.demo===`reset-undo`&&(0,X.jsx)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-8 border border-black/5 dark:border-white/5 shadow-inner flex items-center justify-center min-h-[200px] overflow-hidden relative`,children:(0,X.jsx)(Be,{})}),s.demo===`bg-layout`&&(0,X.jsxs)(`div`,{className:`bg-slate-100 dark:bg-[#0a0a0a] rounded-2xl p-8 border border-black/5 dark:border-white/5 shadow-inner flex flex-col items-center gap-12 justify-center min-h-[200px]`,children:[(0,X.jsxs)(`div`,{className:`flex flex-col md:flex-row items-center justify-center gap-12 w-full max-w-3xl`,children:[(0,X.jsx)(Ye,{}),(0,X.jsx)(`div`,{className:`hidden md:block w-px h-32 bg-black/10 dark:bg-white/10 relative`,children:(0,X.jsx)(`div`,{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-slate-100 dark:bg-[#0a0a0a] px-2 py-1 rounded text-[10px] font-bold text-slate-400 uppercase tracking-wider`,children:`VS`})}),(0,X.jsx)(Xe,{})]}),(0,X.jsx)(`div`,{className:`w-full max-w-3xl h-px bg-black/5 dark:bg-white/5`}),(0,X.jsx)(Ue,{})]})]})]},s.version)})]})]})]})})};var Fe=()=>{let{language:e}=q(),[t,n]=(0,K.useState)({fontSize:10,opacity:.1,position:`center`}),[r,i]=(0,K.useState)({fontSize:10,opacity:.6,position:`center`}),[a,o]=(0,K.useState)(`pageNumber`);return(0,X.jsxs)(`div`,{className:`w-full max-w-md space-y-6`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase text-center mb-2`,children:e===`zh`?`页码 & 水印独立自定义`:`Independent Footer Customization`}),(0,X.jsxs)(`div`,{className:`bg-white dark:bg-[#151515] p-6 rounded-2xl border border-black/5 dark:border-white/5 shadow-sm space-y-6`,children:[(0,X.jsxs)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded-xl`,children:[(0,X.jsx)(`button`,{onClick:()=>o(`pageNumber`),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${a===`pageNumber`?`bg-white dark:bg-white/10 text-blue-600 shadow-sm`:`text-slate-400`}`,children:e===`zh`?`页码设置`:`Page Number`}),(0,X.jsx)(`button`,{onClick:()=>o(`watermark`),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${a===`watermark`?`bg-white dark:bg-white/10 text-blue-600 shadow-sm`:`text-slate-400`}`,children:e===`zh`?`水印设置`:`Watermark`})]}),(0,X.jsxs)(`div`,{className:`space-y-4`,children:[(0,X.jsxs)(`div`,{className:`space-y-2`,children:[(0,X.jsxs)(`div`,{className:`flex justify-between text-[10px] font-bold text-slate-400 uppercase`,children:[(0,X.jsx)(`span`,{children:e===`zh`?`字号`:`Font Size`}),(0,X.jsxs)(`span`,{children:[a===`pageNumber`?r.fontSize:t.fontSize,`px`]})]}),(0,X.jsx)(`input`,{type:`range`,min:`6`,max:`64`,value:a===`pageNumber`?r.fontSize:t.fontSize,onChange:e=>{let o=parseInt(e.target.value);a===`pageNumber`?i({...r,fontSize:o}):n({...t,fontSize:o})},className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-lg appearance-none cursor-pointer accent-blue-500`})]}),(0,X.jsxs)(`div`,{className:`space-y-2`,children:[(0,X.jsxs)(`div`,{className:`flex justify-between text-[10px] font-bold text-slate-400 uppercase`,children:[(0,X.jsx)(`span`,{children:e===`zh`?`不透明度`:`Opacity`}),(0,X.jsxs)(`span`,{children:[Math.round((a===`pageNumber`?r.opacity:t.opacity)*100),`%`]})]}),(0,X.jsx)(`input`,{type:`range`,min:`0`,max:`1`,step:`0.05`,value:a===`pageNumber`?r.opacity:t.opacity,onChange:e=>{let o=parseFloat(e.target.value);a===`pageNumber`?i({...r,opacity:o}):n({...t,opacity:o})},className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-lg appearance-none cursor-pointer accent-blue-500`})]}),(0,X.jsxs)(`div`,{className:`space-y-2`,children:[(0,X.jsx)(`span`,{className:`text-[10px] font-bold text-slate-400 uppercase block`,children:e===`zh`?`位置`:`Position`}),(0,X.jsx)(`div`,{className:`flex bg-black/5 dark:bg-white/5 rounded-lg p-1`,children:[`left`,`center`,`right`].map(e=>(0,X.jsx)(`button`,{onClick:()=>{a===`pageNumber`?i({...r,position:e}):n({...t,position:e})},className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all capitalize ${(a===`pageNumber`?r.position:t.position)===e?`bg-white dark:bg-white/10 text-blue-600 shadow-sm`:`text-slate-400`}`,children:e},e))})]})]}),(0,X.jsxs)(`div`,{className:`pt-4 border-t border-black/5 dark:border-white/5`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase mb-3 text-center`,children:e===`zh`?`实时预览 (底部栏)`:`Real-time Preview (Footer)`}),(0,X.jsxs)(`div`,{className:`relative h-16 bg-slate-50 dark:bg-black/20 rounded-xl border border-dashed border-black/10 dark:border-white/10 flex items-center px-4 overflow-hidden`,children:[(0,X.jsx)(`div`,{className:`absolute transition-all duration-300 font-mono`,style:{left:t.position===`left`?`1rem`:t.position===`center`?`50%`:`auto`,right:t.position===`right`?`1rem`:`auto`,transform:t.position===`center`?`translateX(-50%)`:`none`,fontSize:`${t.fontSize}px`,opacity:t.opacity,color:`currentColor`},children:`MD2DESIGN`}),(0,X.jsx)(`div`,{className:`absolute transition-all duration-300 font-mono font-bold`,style:{left:r.position===`left`?`1rem`:r.position===`center`?`50%`:`auto`,right:r.position===`right`?`1rem`:`auto`,transform:r.position===`center`?`translateX(-50%)`:`none`,fontSize:`${r.fontSize}px`,opacity:r.opacity,color:`currentColor`},children:`1`})]})]})]})]})},Ie=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(!1);return(0,X.jsxs)(`div`,{className:`w-full max-w-md space-y-6`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase text-center mb-2`,children:e===`zh`?`多行列表切换`:`Multi-line List Toggle`}),(0,X.jsxs)(`div`,{className:`bg-white dark:bg-[#151515] rounded-2xl border border-black/5 dark:border-white/5 shadow-sm overflow-hidden`,children:[(0,X.jsxs)(`div`,{className:`px-4 py-2 border-b border-black/5 dark:border-white/5 bg-black/[0.02] dark:bg-white/[0.02] flex items-center justify-between`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,X.jsx)(`button`,{onClick:()=>n(!t),className:`p-1.5 rounded transition-all flex items-center gap-2 ${t?`bg-blue-500/10 text-blue-600`:`hover:bg-black/5 dark:hover:bg-white/5 text-slate-400`}`,children:(0,X.jsx)(L,{size:14})}),(0,X.jsx)(`div`,{className:`w-px h-4 bg-black/10 dark:bg-white/10`}),(0,X.jsxs)(`div`,{className:`flex gap-1`,children:[(0,X.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-slate-200 dark:bg-white/10`}),(0,X.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-slate-200 dark:bg-white/10`})]})]}),(0,X.jsx)(`div`,{className:`text-[10px] font-mono text-slate-400 opacity-60`,children:`Markdown Editor`})]}),(0,X.jsx)(`div`,{className:`p-6 font-mono text-xs space-y-1.5 min-h-[120px] bg-white dark:bg-[#151515]`,children:[e===`zh`?`第一行内容`:`First line of content`,e===`zh`?`第二行内容`:`Second line of content`,e===`zh`?`第三行内容`:`Third line of content`].map((e,n)=>(0,X.jsx)(z.div,{layout:!0,className:`flex items-center gap-2`,children:(0,X.jsx)(`span`,{className:t?`text-blue-600 dark:text-blue-400 font-bold`:`text-slate-500`,children:t?`- ${e}`:e})},n))})]}),(0,X.jsx)(`p`,{className:`text-[10px] text-center text-slate-400 px-8 leading-relaxed`,children:e===`zh`?`现在支持在编辑器中一次性选中多行文本，并点击工具栏按钮一键添加/取消列表前缀。`:`Now supports selecting multiple lines in the editor and toggling list prefixes for all of them at once.`})]})},Le=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(e===`zh`?`在此输入...
按回车换行。`:`Type here...
Press Enter to break line.`);return(0,X.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-6 h-[320px]`,children:[(0,X.jsxs)(`div`,{className:`flex-1 flex flex-col gap-2`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-500 uppercase`,children:e===`zh`?`编辑器`:`Editor`}),(0,X.jsx)(`textarea`,{value:t,onChange:e=>n(e.target.value),className:`w-full h-full p-4 text-sm font-mono rounded-xl bg-white dark:bg-[#151515] border border-transparent focus:border-blue-500/50 outline-none shadow-sm resize-none transition-all`,placeholder:e===`zh`?`输入 markdown...`:`Type markdown...`})]}),(0,X.jsxs)(`div`,{className:`flex-1 flex flex-col gap-2`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-500 uppercase`,children:e===`zh`?`卡片预览`:`Card Preview`}),(0,X.jsxs)(`div`,{className:`w-full h-full rounded-xl overflow-hidden relative shadow-xl group`,children:[(0,X.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-800 dark:to-slate-900`}),(0,X.jsx)(`div`,{className:`absolute inset-4 bg-white dark:bg-[#1a1a1a] rounded-lg shadow-lg overflow-y-auto custom-scrollbar`,children:(0,X.jsx)(`div`,{className:`p-6 prose prose-sm max-w-none dark:prose-invert`,children:(0,X.jsx)(U,{remarkPlugins:[H,W],components:{h1:({...e})=>(0,X.jsx)(`h1`,{className:`text-2xl font-bold mb-4 pb-2 border-b border-black/10 dark:border-white/10`,...e}),p:({...e})=>(0,X.jsx)(`p`,{className:`mb-4 leading-relaxed opacity-90`,...e}),li:({...e})=>(0,X.jsx)(`li`,{className:`marker:text-blue-500`,...e})},children:t})})})]})]})]})},Re=()=>{let{language:e}=q(),t=J(),[n,r]=(0,K.useState)(`system`),[i,a]=(0,K.useState)([`prefix`,`date`,`custom`,`number`]),[o,s]=(0,K.useState)({prefix:`Md2Design`,custom:`MyCard`,includeTime:!0,dateFormat:`dateFormatFull`,numberType:`arabic`,numberOrder:`asc`,zeroStart:!1}),c=({value:e,options:t,onChange:n,className:r=``})=>{let[i,a]=(0,K.useState)(!1),o=t.find(t=>t.id===e);return(0,X.jsxs)(`div`,{className:`relative ${r}`,children:[(0,X.jsxs)(`button`,{onClick:()=>a(!i),className:`w-full bg-white/50 dark:bg-black/20 border border-black/5 dark:border-white/5 rounded-lg p-2 text-[10px] flex items-center justify-between hover:border-blue-500/30 transition-all`,children:[(0,X.jsx)(`span`,{className:`truncate`,children:o?.label}),(0,X.jsx)(p,{size:10,className:`transition-transform duration-200 ${i?`rotate-180`:``}`})]}),(0,X.jsx)(R,{children:i&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{className:`fixed inset-0 z-[120]`,onClick:()=>a(!1)}),(0,X.jsx)(z.div,{initial:{opacity:0,y:4,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.95},className:`absolute left-0 right-0 top-full mt-1 z-[121] bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-xl shadow-2xl overflow-hidden py-1`,children:t.map(t=>(0,X.jsxs)(`button`,{onClick:()=>{n(t.id),a(!1)},className:`w-full px-3 py-1.5 text-left text-[10px] transition-colors flex items-center justify-between ${e===t.id?`bg-blue-500 text-white`:`text-slate-700 dark:text-white/70 hover:bg-black/5 dark:hover:bg-white/5`}`,children:[t.label,e===t.id&&(0,X.jsx)(m,{size:10})]},t.id))})]})})]})},l=(e,t)=>{let n=[...i],r=e+t;r<0||r>=i.length||([n[e],n[r]]=[n[r],n[e]],a(n))},u=t=>({prefix:e===`zh`?`前缀`:`Prefix`,date:e===`zh`?`日期`:`Date`,custom:e===`zh`?`自定义名称`:`Custom Name`,number:e===`zh`?`数字顺序`:`Number Order`})[t]||t,d=(e,t)=>{let r=new Date,a=e=>e.toString().padStart(2,`0`),s=(()=>{let e=r.getFullYear().toString().slice(-2),t=a(r.getMonth()+1),n=a(r.getDate());switch(o.dateFormat){case`dateFormatFull`:return`${e}${t}${n}`;case`dateFormatShort`:return`${t}${n}`;case`dateFormatMDY`:return`${t}${n}${e}`;case`dateFormatDMY`:return`${n}${t}${e}`;case`dateFormatYMD`:return`${e}${t}${n}`;default:return`${e}${t}${n}`}})(),c=`${a(r.getHours())}${a(r.getMinutes())}`;return n===`system`?`Md2Design_${s}_${c}_${o.custom}_${e+1}`:i.map(n=>{switch(n){case`prefix`:return o.prefix;case`date`:return o.includeTime?`${s}_${c}`:s;case`custom`:return o.custom;case`number`:{let n=o.numberOrder===`asc`?e:t-1-e;return o.zeroStart||(n+=1),o.numberType===`chinese`&&n<=10?[`零`,`一`,`二`,`三`,`四`,`五`,`六`,`七`,`八`,`九`,`十`][n]:n.toString()}default:return``}}).filter(Boolean).join(`_`)};return(0,X.jsxs)(`div`,{className:`w-full max-w-sm space-y-6`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase text-center mb-2`,children:e===`zh`?`文件名自定义演示`:`Filename Customization Demo`}),(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5`,children:[{id:`system`,label:t.namingModeSystem},{id:`custom`,label:t.namingModeCustom}].map(e=>(0,X.jsx)(`button`,{onClick:()=>r(e.id),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${n===e.id?`bg-blue-500 text-white shadow-lg shadow-blue-500/20`:`text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white`}`,children:e.label},e.id))}),n===`system`?(0,X.jsx)(`div`,{className:`space-y-4 py-4`,children:(0,X.jsxs)(`div`,{className:`p-4 bg-white dark:bg-[#151515] rounded-xl border border-black/5 dark:border-white/5 shadow-sm space-y-3`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase`,children:e===`zh`?`系统默认格式`:`System Default Format`}),(0,X.jsx)(`div`,{className:`text-xs text-slate-600 dark:text-slate-400 font-mono leading-relaxed`,children:`Md2Design_日期(YYMMDD)_时间(HHMM)_自定义名称_数字序号.png`})]})}):(0,X.jsx)(`div`,{className:`space-y-4`,children:(0,X.jsx)(`div`,{className:`flex flex-col gap-2`,children:i.map((n,r)=>(0,X.jsxs)(z.div,{layout:!0,className:`flex flex-col p-3 bg-white dark:bg-[#151515] rounded-xl border border-black/5 dark:border-white/5 shadow-sm gap-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,X.jsx)(`div`,{className:`w-6 h-6 rounded-lg bg-blue-500/10 text-blue-500 flex items-center justify-center text-[10px] font-bold`,children:r+1}),(0,X.jsx)(`span`,{className:`text-sm font-bold text-slate-700 dark:text-slate-300`,children:u(n)})]}),(0,X.jsxs)(`div`,{className:`flex gap-1`,children:[(0,X.jsx)(`button`,{onClick:()=>l(r,-1),className:`p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded disabled:opacity-20`,disabled:r===0,children:(0,X.jsx)(_,{size:14,className:`-rotate-90 opacity-60`})}),(0,X.jsx)(`button`,{onClick:()=>l(r,1),className:`p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded disabled:opacity-20`,disabled:r===i.length-1,children:(0,X.jsx)(_,{size:14,className:`rotate-90 opacity-60`})})]})]}),n===`date`&&(0,X.jsxs)(`div`,{className:`pl-9 space-y-2 border-l border-black/5 dark:border-white/5`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`span`,{className:`text-[10px] text-slate-400`,children:t.namingIncludeTime||(e===`zh`?`包含时间`:`Include Time`)}),(0,X.jsx)(`button`,{onClick:()=>s({...o,includeTime:!o.includeTime}),className:`w-7 h-3.5 rounded-full relative transition-colors ${o.includeTime?`bg-blue-500`:`bg-black/10 dark:bg-white/10`}`,children:(0,X.jsx)(`div`,{className:`absolute top-0.5 w-2.5 h-2.5 bg-white rounded-full transition-all ${o.includeTime?`right-0.5`:`left-0.5`}`})})]}),(0,X.jsx)(c,{value:o.dateFormat,options:[{id:`dateFormatFull`,label:t.dateFormatFull||`YYMMDD`},{id:`dateFormatShort`,label:t.dateFormatShort||`MMDD`},{id:`dateFormatYMD`,label:t.dateFormatYMD||`YY/MM/DD`}],onChange:e=>s({...o,dateFormat:e})})]}),n===`number`&&(0,X.jsxs)(`div`,{className:`pl-9 space-y-2 border-l border-black/5 dark:border-white/5`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`span`,{className:`text-[10px] text-slate-400`,children:t.namingZeroStart||(e===`zh`?`0作为起始`:`Zero Start`)}),(0,X.jsx)(`button`,{onClick:()=>s({...o,zeroStart:!o.zeroStart}),className:`w-7 h-3.5 rounded-full relative transition-colors ${o.zeroStart?`bg-blue-500`:`bg-black/10 dark:bg-white/10`}`,children:(0,X.jsx)(`div`,{className:`absolute top-0.5 w-2.5 h-2.5 bg-white rounded-full transition-all ${o.zeroStart?`right-0.5`:`left-0.5`}`})})]}),(0,X.jsxs)(`div`,{className:`flex gap-2`,children:[(0,X.jsx)(c,{className:`flex-1`,value:o.numberType,options:[{id:`arabic`,label:t.namingArabic||`1, 2, 3`},{id:`chinese`,label:t.namingChinese||(e===`zh`?`一, 二, 三`:`Chinese`)}],onChange:e=>s({...o,numberType:e})}),(0,X.jsx)(c,{className:`flex-1`,value:o.numberOrder,options:[{id:`asc`,label:t.namingOrderAsc||(e===`zh`?`升序`:`ASC`)},{id:`desc`,label:t.namingOrderDesc||(e===`zh`?`降序`:`DESC`)}],onChange:e=>s({...o,numberOrder:e})})]})]})]},n))})}),(0,X.jsxs)(`div`,{className:`p-4 bg-blue-500/5 rounded-xl border border-blue-500/10`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-blue-500 uppercase mb-2 tracking-widest`,children:t.namingPreview||(e===`zh`?`预览文件名`:`Filename Preview`)}),(0,X.jsxs)(`div`,{className:`flex flex-col gap-1.5`,children:[(0,X.jsxs)(`div`,{className:`text-xs font-mono text-slate-600 dark:text-slate-400 break-all leading-relaxed`,children:[d(0,10),`.png`]}),n===`custom`&&i.includes(`number`)&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(`div`,{className:`text-xs font-mono text-slate-600 dark:text-slate-400 break-all leading-relaxed opacity-60`,children:[d(1,10),`.png`]}),(0,X.jsx)(`div`,{className:`text-xs font-mono text-slate-400 dark:text-slate-500 opacity-40`,children:`...`}),(0,X.jsxs)(`div`,{className:`text-xs font-mono text-slate-600 dark:text-slate-400 break-all leading-relaxed`,children:[d(9,10),`.png`]})]})]})]})]})},ze=()=>{let{language:e}=q(),t=J(),[n,r]=(0,K.useState)(!0);return(0,X.jsxs)(`div`,{className:`w-full max-w-sm flex flex-col items-center gap-6`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase text-center mb-2`,children:e===`zh`?`交互引导提示`:`Onboarding Tooltip`}),(0,X.jsxs)(`div`,{className:`relative flex items-center gap-2`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-1.5 px-3 py-1 bg-white/80 dark:bg-white/10 text-blue-600 dark:text-blue-400 rounded-full text-[10px] font-bold border border-blue-500/20 relative overflow-hidden shadow-sm`,children:[(0,X.jsx)(z.div,{className:`absolute inset-0 rounded-full bg-blue-500/20 blur-md -z-10 pointer-events-none`,animate:{opacity:[.4,.8,.4],scale:[1,1.15,1]},transition:{duration:3,repeat:1/0,ease:`easeInOut`}}),(0,X.jsx)(w,{size:10,className:`text-blue-500`}),(0,X.jsx)(`span`,{children:t.changelogTitle||`Updates`})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-1.5 px-3 py-1 bg-white/80 dark:bg-white/10 text-green-600 dark:text-green-400 rounded-full text-[10px] font-bold border border-green-500/20 relative shadow-sm`,children:[(0,X.jsx)(z.div,{className:`absolute inset-0 rounded-full bg-green-500/20 blur-md -z-10 pointer-events-none`,animate:{opacity:[.4,.8,.4],scale:[1,1.15,1]},transition:{duration:3,repeat:1/0,ease:`easeInOut`}}),(0,X.jsx)(ce,{size:10,className:`text-green-500`}),(0,X.jsx)(`span`,{children:t.feedback||`Feedback`})]}),(0,X.jsx)(R,{children:n&&(0,X.jsx)(z.div,{initial:{opacity:0,scaleX:0,scaleY:0,originX:0,x:10,borderRadius:`100px`},animate:{opacity:1,scaleX:1,scaleY:1,originX:0,x:12,borderRadius:`12px`},exit:{opacity:0,scaleX:0,scaleY:0,originX:0,x:10,borderRadius:`100px`},transition:{type:`spring`,stiffness:260,damping:20},className:`absolute left-full whitespace-nowrap z-30`,children:(0,X.jsxs)(`div`,{className:`bg-orange-400/85 dark:bg-orange-500/80 backdrop-blur-md text-white px-4 py-2 rounded-xl shadow-[0_10px_30px_-10px_rgba(251,146,60,0.5)] text-[10px] font-bold flex items-center gap-2 border border-white/20`,children:[(0,X.jsx)(`div`,{className:`w-1.5 h-1.5 rounded-full bg-white animate-pulse`}),t.onboardingTip||(e===`zh`?`这里可以查看更新和反馈bug`:`Check updates and report bugs here`),(0,X.jsx)(`button`,{onClick:()=>r(!1),className:`ml-2 p-1 hover:bg-white/20 rounded-full transition-colors`,children:(0,X.jsx)(P,{size:12,className:`text-white`})})]})})}),!n&&(0,X.jsx)(`button`,{onClick:()=>r(!0),className:`absolute -bottom-10 left-1/2 -translate-x-1/2 text-[10px] text-blue-500 hover:underline`,children:e===`zh`?`重现提示`:`Replay Hint`})]}),(0,X.jsxs)(`div`,{className:`mt-16 flex items-center gap-2 text-[10px] text-slate-400 italic`,children:[(0,X.jsx)(g,{size:12,className:`text-green-500`}),(0,X.jsx)(`span`,{children:e===`zh`?`仅在有重大更新或首次使用时显示`:`Shows on major updates or first use`})]})]})},Be=()=>{let e=J(),[t,n]=(0,K.useState)(!1),[r,i]=(0,K.useState)(10),[a,o]=(0,K.useState)(!1);return(0,K.useEffect)(()=>{let e;return a&&r>0?e=setInterval(()=>i(e=>e-1),1e3):r===0&&(o(!1),n(!1)),()=>clearInterval(e)},[a,r]),(0,X.jsx)(`div`,{className:`flex flex-col items-center gap-8 w-full max-w-sm relative z-10 min-h-[80px] justify-center`,children:(0,X.jsx)(R,{mode:`wait`,children:t?(0,X.jsxs)(z.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:`bg-white/80 dark:bg-black/80 backdrop-blur-xl border border-white/20 dark:border-white/10 shadow-2xl rounded-full px-6 py-4 flex items-center gap-6 w-full absolute`,children:[(0,X.jsxs)(`div`,{className:`relative w-12 h-12 flex-shrink-0 flex items-center justify-center`,children:[(0,X.jsxs)(`svg`,{className:`w-12 h-12 transform -rotate-90`,viewBox:`0 0 48 48`,children:[(0,X.jsx)(`circle`,{cx:`24`,cy:`24`,r:`20`,stroke:`currentColor`,strokeWidth:`3`,fill:`transparent`,className:`text-black/5 dark:text-white/5`}),(0,X.jsx)(z.circle,{cx:`24`,cy:`24`,r:`20`,stroke:(()=>r>6?`#22c55e`:r>3?`#eab308`:`#ef4444`)(),strokeWidth:`3`,fill:`transparent`,strokeDasharray:`125.6`,animate:{strokeDashoffset:125.6*(1-r/10)},transition:{duration:1,ease:`linear`},strokeLinecap:`round`})]}),(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,X.jsxs)(`span`,{className:`text-[10px] font-bold font-mono text-black dark:text-white leading-none`,children:[Math.ceil(r),`s`]})})]}),(0,X.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,X.jsx)(`h3`,{className:`text-sm font-bold text-black dark:text-white mb-0.5 whitespace-nowrap`,children:e.styleResetToast||`Style Reset`}),(0,X.jsx)(`p`,{className:`text-[10px] opacity-60 text-black dark:text-white whitespace-nowrap truncate`,children:e.settingsRestoredToast||`Settings restored`})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,X.jsx)(`button`,{onClick:()=>{o(!1),n(!1),i(10)},className:`px-4 py-2 bg-black dark:bg-white text-white dark:text-black rounded-full text-xs font-bold hover:opacity-90 transition-opacity active:scale-95 whitespace-nowrap`,children:e.undo||`Undo`}),(0,X.jsx)(`button`,{onClick:()=>n(!1),className:`p-1.5 hover:bg-black/5 dark:hover:bg-white/5 rounded-full transition-colors text-black dark:text-white opacity-40 hover:opacity-100 flex-shrink-0`,children:(0,X.jsx)(T,{size:16,className:`rotate-45`})})]})]},`toast`):(0,X.jsxs)(z.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:()=>{i(10),n(!0),o(!0)},className:`flex items-center gap-2 px-6 py-3 bg-red-500/10 text-red-600 dark:text-red-400 hover:bg-red-500/20 rounded-full font-bold transition-all`,children:[(0,X.jsx)(F,{size:18}),e.resetStyle||`Reset Style`]},`reset-btn`)})})},Ve=[{start:`#a8ff78`,end:`#78ffd6`,name:`Minty Fresh`},{start:`#E0C3FC`,end:`#8EC5FC`,name:`Lavender`},{start:`#ff9a9e`,end:`#fad0c4`,name:`Peach`},{start:`#2193b0`,end:`#6dd5ed`,name:`Cool Blue`}],He=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(0),[r,i]=(0,K.useState)([...Ve]),[a,o]=(0,K.useState)(null),s=r.length?Math.min(t,r.length-1):0,c=r[s],l=a===null?null:r[a],u=()=>{i([...Ve]),n(0)};return(0,X.jsxs)(`div`,{className:`flex flex-col items-center gap-8 w-full max-w-md`,children:[(0,X.jsx)(R,{children:l&&(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/40 backdrop-blur-md`,onClick:()=>o(null),children:(0,X.jsxs)(z.div,{initial:{scale:.96,opacity:0,y:16},animate:{scale:1,opacity:1,y:0},exit:{scale:.96,opacity:0,y:16},className:`relative w-full max-w-xl overflow-hidden rounded-3xl border border-white/20 bg-white/50 dark:bg-black/40 backdrop-blur-2xl shadow-2xl`,onClick:e=>e.stopPropagation(),children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between p-4 border-b border-black/5 dark:border-white/10`,children:[(0,X.jsxs)(`div`,{className:`min-w-0`,children:[(0,X.jsx)(`div`,{className:`text-sm font-bold truncate`,children:l.name}),(0,X.jsx)(`div`,{className:`text-[10px] opacity-60 truncate`,children:e===`zh`?`单独预览`:`Quick Preview`})]}),(0,X.jsx)(`button`,{onClick:()=>o(null),className:`p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors`,"aria-label":`Close`,children:(0,X.jsx)(P,{size:18})})]}),(0,X.jsx)(`div`,{className:`p-6`,children:(0,X.jsxs)(`div`,{className:`relative w-full aspect-video rounded-2xl overflow-hidden border border-white/20`,children:[(0,X.jsx)(`div`,{className:`absolute inset-0`,style:{background:`linear-gradient(135deg, ${l.start} 0%, ${l.end} 100%)`}}),(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center p-8`,children:(0,X.jsxs)(`div`,{className:`w-full h-full bg-white/85 dark:bg-black/35 backdrop-blur-md rounded-2xl p-6 flex flex-col gap-3 shadow-2xl`,children:[(0,X.jsx)(`div`,{className:`w-12 h-2 bg-blue-500/50 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-2`,children:[(0,X.jsx)(`div`,{className:`w-full h-2 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-5/6 h-2 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-4/6 h-2 bg-black/5 dark:bg-white/10 rounded-full`})]}),(0,X.jsxs)(`div`,{className:`mt-auto flex justify-between items-end opacity-60 font-mono uppercase tracking-widest text-[10px]`,children:[(0,X.jsx)(`span`,{children:e===`zh`?`水印`:`Watermark`}),(0,X.jsx)(`span`,{children:`1`})]})]})})]})})]})})}),(0,X.jsxs)(`div`,{className:`relative w-full aspect-video rounded-2xl overflow-hidden shadow-2xl group border border-white/20`,children:[(0,X.jsx)(z.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},className:`absolute inset-0`,style:{background:c?`linear-gradient(135deg, ${c.start} 0%, ${c.end} 100%)`:`linear-gradient(135deg, #e5e7eb 0%, #cbd5e1 100%)`}},s),(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center p-8`,children:(0,X.jsxs)(z.div,{animate:{boxShadow:`2px 5px 15px rgba(0,0,0,0.15)`},className:`w-full h-full bg-white/90 dark:bg-black/40 backdrop-blur-md rounded-2xl p-6 flex flex-col gap-3`,children:[(0,X.jsx)(`div`,{className:`w-12 h-2 bg-blue-500/50 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-2`,children:[(0,X.jsx)(`div`,{className:`w-full h-2 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-5/6 h-2 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-4/6 h-2 bg-black/5 dark:bg-white/10 rounded-full`})]}),(0,X.jsxs)(`div`,{className:`mt-auto flex justify-between items-end`,children:[(0,X.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-black/5 dark:bg-white/10`}),(0,X.jsx)(`div`,{className:`text-[8px] font-bold opacity-20 tracking-widest uppercase`,children:`Preset Preview`})]})]})}),(0,X.jsx)(`div`,{className:`absolute bottom-4 left-4 px-3 py-1 bg-black/20 backdrop-blur-md rounded-full text-[10px] font-bold text-white border border-white/10`,children:c?.name||(e===`zh`?`暂无预设`:`No presets`)})]}),(0,X.jsxs)(`div`,{className:`flex flex-col items-center gap-4 w-full`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-widest`,children:e===`zh`?`点击切换渐变预设`:`Click to Switch Gradients`}),(0,X.jsx)(`div`,{className:`flex gap-3`,children:r.map((e,t)=>(0,X.jsx)(`button`,{onClick:()=>n(t),className:`w-10 h-10 rounded-xl border-2 transition-all p-0.5 ${s===t?`border-blue-500 scale-110 shadow-lg`:`border-transparent hover:scale-105`}`,children:(0,X.jsx)(`div`,{className:`w-full h-full rounded-lg`,style:{background:`linear-gradient(135deg, ${e.start} 0%, ${e.end} 100%)`}})},t))})]}),(0,X.jsxs)(`div`,{className:`w-full`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-center gap-3 mb-3`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-widest`,children:e===`zh`?`单独预览与删除预设`:`Preview & Delete Presets`}),(0,X.jsxs)(`button`,{onClick:u,className:`p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded-md text-blue-500 transition-colors flex items-center gap-1`,title:e===`zh`?`恢复默认预设`:`Restore Default Presets`,children:[(0,X.jsx)(F,{size:10}),(0,X.jsx)(`span`,{className:`text-[8px] font-bold uppercase`,children:e===`zh`?`恢复`:`Restore`})]})]}),(0,X.jsx)(`div`,{className:`grid grid-cols-4 gap-3 justify-items-center`,children:r.map((e,t)=>(0,X.jsxs)(`div`,{className:`group w-14`,children:[(0,X.jsxs)(`div`,{className:`relative w-14 h-14 rounded-2xl overflow-hidden border border-white/20 shadow-lg transform-gpu`,children:[(0,X.jsx)(`div`,{style:{background:`linear-gradient(135deg, ${e.start} 0%, ${e.end} 100%)`},className:`absolute inset-0`}),(0,X.jsxs)(`div`,{className:`absolute inset-0 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-black/20 backdrop-blur-sm rounded-2xl`,children:[(0,X.jsx)(`button`,{onClick:()=>o(t),className:`p-1.5 rounded-full bg-white/80 dark:bg-black/40 hover:scale-110 transition-transform`,"aria-label":`Preview`,children:(0,X.jsx)(C,{size:12,className:`text-blue-500`})}),(0,X.jsx)(`button`,{onClick:()=>{i(e=>e.filter((e,n)=>n!==t)),n(e=>e===t?0:e>t?e-1:e),o(e=>e===t?null:e!==null&&e>t?e-1:e)},className:`p-1.5 rounded-full bg-white/80 dark:bg-black/40 hover:scale-110 transition-transform`,"aria-label":`Delete`,children:(0,X.jsx)(D,{size:12,className:`text-red-500`})})]})]}),(0,X.jsx)(`div`,{className:`mt-1 text-[9px] text-center truncate opacity-70`,children:e.name})]},e.name))})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-4 p-4 bg-blue-500/5 rounded-2xl border border-blue-500/10 w-full`,children:[(0,X.jsx)(`div`,{className:`p-2 bg-blue-500/10 rounded-xl text-blue-500`,children:(0,X.jsx)(T,{size:20})}),(0,X.jsxs)(`div`,{className:`flex-1`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-700 dark:text-slate-300`,children:e===`zh`?`样式预设管理`:`Style Presets`}),(0,X.jsx)(`div`,{className:`text-[10px] text-slate-500`,children:e===`zh`?`现在您可以一键保存并管理您喜欢的样式组合。`:`Save and manage your favorite style combinations easily.`})]})]})]})},Ue=()=>{let{language:e}=q();return(0,X.jsxs)(`div`,{className:`w-full max-w-xs space-y-4`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase text-center mb-2`,children:e===`zh`?`自定义背景`:`Custom Background`}),(0,X.jsxs)(`div`,{className:`relative aspect-video rounded-xl overflow-hidden border border-black/5 dark:border-white/5 bg-slate-100 dark:bg-[#151515] group`,children:[(0,X.jsxs)(z.div,{className:`absolute inset-0 z-10`,animate:{opacity:[0,1,1,0]},transition:{duration:4,repeat:1/0,times:[0,.2,.8,1],ease:`easeInOut`,repeatDelay:1},children:[(0,X.jsx)(`img`,{src:`https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=600&auto=format&fit=crop`,className:`w-full h-full object-cover`,alt:`demo`}),(0,X.jsx)(`div`,{className:`absolute inset-0 bg-black/10`})]}),(0,X.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center gap-2 text-slate-400 z-20 pointer-events-none`,children:[(0,X.jsxs)(z.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:`w-32 h-20 bg-white/80 dark:bg-black/60 backdrop-blur-md rounded-lg shadow-xl border border-white/20 p-3 flex flex-col gap-1.5`,children:[(0,X.jsx)(`div`,{className:`w-8 h-1 bg-blue-500 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-1`,children:[(0,X.jsx)(`div`,{className:`w-full h-1 bg-black/10 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-4/5 h-1 bg-black/10 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-3/5 h-1 bg-black/10 dark:bg-white/10 rounded-full`})]}),(0,X.jsxs)(`div`,{className:`mt-auto flex justify-between items-center`,children:[(0,X.jsx)(`div`,{className:`w-4 h-4 rounded-full bg-black/5 dark:bg-white/5`}),(0,X.jsx)(`div`,{className:`text-[6px] font-bold opacity-30 uppercase tracking-tighter`,children:`Md2Card`})]})]}),(0,X.jsxs)(`div`,{className:`flex flex-col items-center mt-2`,children:[(0,X.jsx)(d,{size:16,className:`opacity-40`}),(0,X.jsx)(`span`,{className:`text-[8px] font-bold uppercase tracking-widest opacity-30 mt-1`,children:e===`zh`?`自定义预览`:`Preview`})]})]})]}),(0,X.jsxs)(`div`,{className:`flex items-center justify-center gap-2 text-[10px] text-slate-400`,children:[(0,X.jsx)(g,{size:12,className:`text-green-500`}),(0,X.jsx)(`span`,{children:e===`zh`?`支持动态调整`:`Supports continuous adjustment`})]})]})},We=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(!0),[r,i]=(0,K.useState)(!0);return(0,X.jsxs)(`div`,{className:`w-full flex flex-col items-center gap-6`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase text-center`,children:e===`zh`?`智能安全区域演示`:`Safe Zone Calculation Demo`}),(0,X.jsxs)(`div`,{className:`relative w-full max-w-md aspect-video bg-slate-200 dark:bg-[#151515] rounded-xl border border-black/5 dark:border-white/5 overflow-hidden shadow-sm flex`,children:[(0,X.jsx)(z.div,{animate:{width:t?`30%`:`0%`},className:`h-full bg-white/50 dark:bg-white/5 border-r border-black/5 dark:border-white/5 relative overflow-hidden`,children:(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,X.jsx)(`span`,{className:`text-[10px] font-mono opacity-30 rotate-90 whitespace-nowrap`,children:`EDITOR`})})}),(0,X.jsxs)(z.div,{className:`flex-1 h-full relative flex items-center justify-center`,animate:{paddingLeft:`0px`,paddingRight:`0px`},children:[(0,X.jsx)(`div`,{className:`absolute inset-0 grid-bg opacity-[0.03]`}),(0,X.jsxs)(z.div,{layout:!0,className:`w-24 aspect-[3/4] bg-white dark:bg-[#202020] rounded-lg shadow-lg border border-black/5 dark:border-white/10 flex flex-col p-2 gap-2 z-10`,children:[(0,X.jsx)(`div`,{className:`w-8 h-1 bg-blue-500 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-1`,children:[(0,X.jsx)(`div`,{className:`w-full h-1 bg-black/10 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-4/5 h-1 bg-black/10 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1 bg-black/10 dark:bg-white/10 rounded-full`})]})]}),(0,X.jsx)(z.div,{className:`absolute left-0 top-0 bottom-0 border-l-2 border-dashed border-green-500/30`,animate:{x:0}}),(0,X.jsx)(z.div,{className:`absolute right-0 top-0 bottom-0 border-r-2 border-dashed border-green-500/30`,animate:{x:0}}),(0,X.jsxs)(`div`,{className:`absolute bottom-2 flex gap-4 text-[8px] font-mono opacity-40`,children:[(0,X.jsx)(z.span,{animate:{opacity:t?1:.3},children:`PAD-L`}),(0,X.jsx)(z.span,{animate:{opacity:r?1:.3},children:`PAD-R`})]})]}),(0,X.jsx)(z.div,{animate:{width:r?`25%`:`0%`},className:`h-full bg-white/50 dark:bg-white/5 border-l border-black/5 dark:border-white/5 relative overflow-hidden`,children:(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,X.jsx)(`span`,{className:`text-[10px] font-mono opacity-30 -rotate-90 whitespace-nowrap`,children:`SIDEBAR`})})})]}),(0,X.jsxs)(`div`,{className:`flex gap-4`,children:[(0,X.jsx)(`button`,{onClick:()=>n(!t),className:`px-3 py-1.5 rounded-lg text-xs font-bold border transition-all ${t?`bg-blue-500 text-white border-blue-500`:`bg-transparent border-black/10 dark:border-white/10 text-slate-500`}`,children:e===`zh`?`编辑器`:`Editor`}),(0,X.jsx)(`button`,{onClick:()=>i(!r),className:`px-3 py-1.5 rounded-lg text-xs font-bold border transition-all ${r?`bg-blue-500 text-white border-blue-500`:`bg-transparent border-black/10 dark:border-white/10 text-slate-500`}`,children:e===`zh`?`侧边栏`:`Sidebar`})]})]})},Ge=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(`portrait`),r=e===`zh`;return(0,X.jsxs)(`div`,{className:`w-full flex flex-col items-center gap-6`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-widest`,children:r?`自动高度 vs 固定比例`:`Auto Height vs Fixed Aspect Ratio`}),(0,X.jsx)(`div`,{className:`flex items-center gap-1 bg-white dark:bg-white/5 p-1 rounded-xl border border-black/5 dark:border-white/10 shadow-sm`,children:[{id:`portrait`,label:r?`竖屏`:`Portrait`},{id:`landscape`,label:r?`横屏`:`Landscape`},{id:`auto`,label:r?`自动高度`:`Auto Height`}].map(e=>(0,X.jsx)(`button`,{onClick:()=>n(e.id),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${t===e.id?`bg-blue-500 text-white shadow-md`:`text-slate-500 hover:bg-black/5 dark:hover:bg-white/5`}`,children:e.label},e.id))}),(0,X.jsxs)(`div`,{className:`w-full max-w-lg flex justify-center items-center min-h-[300px] p-8 bg-slate-200/30 dark:bg-white/5 rounded-2xl border border-black/5 relative overflow-hidden`,children:[(0,X.jsxs)(z.div,{animate:{width:t===`landscape`?240:160,height:t===`auto`?`auto`:t===`landscape`?150:220},transition:{type:`spring`,damping:20,stiffness:200},className:`bg-white dark:bg-[#1a1a1a] rounded-xl shadow-2xl border border-black/5 dark:border-white/10 p-5 flex flex-col gap-3 overflow-hidden relative`,children:[(0,X.jsx)(`div`,{className:`w-12 h-2 bg-blue-500/40 rounded-full shrink-0`}),(0,X.jsxs)(`div`,{className:`space-y-2 shrink-0`,children:[(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-2/3 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`})]}),(0,X.jsx)(R,{mode:`wait`,children:t===`auto`?(0,X.jsxs)(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:`auto`},exit:{opacity:0,height:0},className:`space-y-3 pt-2`,children:[(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-5/6 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-4/6 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-3/6 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`})]},`auto-content`):(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`flex-1 flex flex-col justify-end`,children:(0,X.jsx)(`div`,{className:`w-full py-4 border-t border-dashed border-black/10 dark:border-white/10 flex items-center justify-center`,children:(0,X.jsx)(`span`,{className:`text-[10px] text-slate-400 font-bold uppercase tracking-tighter`,children:t===`portrait`?`Fixed 3:4`:`Fixed 16:10`})})},`fixed-content`)}),(0,X.jsxs)(`div`,{className:`mt-auto pt-4 flex justify-between items-center opacity-20 shrink-0`,children:[(0,X.jsx)(`div`,{className:`w-10 h-1 bg-black/20 dark:bg-white/20 rounded-full`}),(0,X.jsx)(`div`,{className:`text-[8px] font-bold`,children:`1`})]}),t!==`auto`&&(0,X.jsx)(`div`,{className:`absolute bottom-10 left-0 right-0 h-12 bg-gradient-to-t from-white dark:from-[#1a1a1a] to-transparent pointer-events-none`})]}),(0,X.jsx)(`div`,{className:`absolute bottom-4 right-4 bg-black/80 text-white text-[9px] font-bold px-2 py-1 rounded-md shadow-lg`,children:t===`auto`?r?`高度随内容自动撑开`:`Height grows with content`:r?`固定高度 (内容可能被截断)`:`Fixed Height (Content may be cut off)`})]})]})},Ke=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(1);return(0,X.jsxs)(`div`,{className:`w-full flex flex-col items-center gap-6`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-widest`,children:e===`zh`?`预览缩放演示 (滑条 & 快捷键)`:`Preview Zoom Demo (Slider & Shortcuts)`}),(0,X.jsxs)(`div`,{className:`w-full max-w-xs flex items-center gap-4 bg-white dark:bg-white/5 p-3 rounded-xl border border-black/5 dark:border-white/10 shadow-sm`,children:[(0,X.jsx)(C,{size:14,className:`opacity-50`}),(0,X.jsx)(`input`,{type:`range`,min:.5,max:1.5,step:.1,value:t,onChange:e=>n(parseFloat(e.target.value)),className:`flex-1 accent-blue-500 h-1.5 bg-black/10 dark:bg-white/10 rounded-lg appearance-none cursor-pointer`}),(0,X.jsxs)(`span`,{className:`text-xs font-mono font-bold min-w-[4ch]`,children:[Math.round(t*100),`%`]})]}),(0,X.jsxs)(`div`,{className:`w-full max-w-lg aspect-[16/9] bg-slate-200/30 dark:bg-white/5 rounded-2xl border border-black/5 overflow-hidden flex items-center justify-center relative`,children:[(0,X.jsxs)(z.div,{animate:{scale:t},className:`w-40 h-56 bg-white dark:bg-[#1a1a1a] rounded-xl shadow-2xl border border-black/5 dark:border-white/10 p-5 flex flex-col gap-3`,children:[(0,X.jsx)(`div`,{className:`w-10 h-2 bg-blue-500/40 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-2 mt-2`,children:[(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-4/5 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`})]})]}),(0,X.jsxs)(`div`,{className:`absolute bottom-4 left-4 flex gap-2`,children:[(0,X.jsx)(`kbd`,{className:`px-2 py-1 bg-white dark:bg-black/40 rounded text-[10px] font-bold shadow-sm border border-black/5`,children:`Ctrl`}),(0,X.jsx)(`span`,{className:`text-[10px] font-bold`,children:`+`}),(0,X.jsxs)(`div`,{className:`px-2 py-1 bg-white dark:bg-black/40 rounded text-[10px] font-bold shadow-sm border border-black/5 flex items-center gap-1`,children:[(0,X.jsx)(`div`,{className:`w-2 h-3 border border-black/20 dark:border-white/20 rounded-sm relative`,children:(0,X.jsx)(z.div,{animate:{y:[0,4,0]},transition:{repeat:1/0,duration:1.5},className:`absolute top-0.5 left-0.5 w-1 h-1 bg-blue-500 rounded-full`})}),(0,X.jsx)(`span`,{children:`Wheel`})]})]})]})]})},qe=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(24);return(0,X.jsxs)(`div`,{className:`w-full flex flex-col items-center gap-6`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-widest`,children:e===`zh`?`卡片内边距调整演示`:`Card Padding Adjustment Demo`}),(0,X.jsxs)(`div`,{className:`w-full max-w-xs flex items-center gap-4 bg-white dark:bg-white/5 p-3 rounded-xl border border-black/5 dark:border-white/10 shadow-sm`,children:[(0,X.jsx)(k,{size:14,className:`opacity-50`}),(0,X.jsx)(`input`,{type:`range`,min:0,max:60,value:t,onChange:e=>n(parseInt(e.target.value)),className:`flex-1 accent-blue-500 h-1.5 bg-black/10 dark:border-white/10 rounded-lg appearance-none cursor-pointer`}),(0,X.jsxs)(`span`,{className:`text-xs font-mono font-bold min-w-[3ch]`,children:[t,`px`]})]}),(0,X.jsx)(`div`,{className:`w-full max-w-lg aspect-[16/9] bg-slate-200/30 dark:bg-white/5 rounded-2xl border border-black/5 flex items-center justify-center`,children:(0,X.jsx)(`div`,{className:`w-48 h-64 bg-slate-300 dark:bg-slate-800 rounded-xl relative overflow-hidden shadow-lg`,children:(0,X.jsxs)(z.div,{animate:{top:t/2,left:t/2,right:t/2,bottom:t/2},className:`absolute bg-white dark:bg-[#1a1a1a] rounded-lg shadow-sm p-4 flex flex-col gap-2`,children:[(0,X.jsx)(`div`,{className:`w-8 h-2 bg-blue-500/40 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-3/4 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`})]})]})})})]})},Je=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(!1),[r,i]=(0,K.useState)([]);return(0,X.jsxs)(`div`,{className:`w-full flex flex-col items-center gap-6`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-widest`,children:e===`zh`?`智能自动分页演示`:`Smart Auto-Pagination Demo`}),(0,X.jsxs)(`div`,{className:`relative w-full max-w-lg aspect-[16/10] bg-slate-200/50 dark:bg-white/5 rounded-2xl border border-black/5 dark:border-white/5 overflow-hidden p-6 flex flex-col gap-4`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-2 p-2 bg-white dark:bg-black/40 rounded-xl shadow-sm border border-black/5 dark:border-white/10`,children:[(0,X.jsx)(`div`,{className:`w-4 h-4 rounded bg-slate-200 dark:bg-white/10`}),(0,X.jsx)(`div`,{className:`w-4 h-4 rounded bg-slate-200 dark:bg-white/10`}),(0,X.jsx)(`div`,{className:`w-[1px] h-4 bg-black/10 dark:bg-white/10 mx-1`}),(0,X.jsx)(`button`,{onClick:()=>{n(!0),i([]),setTimeout(()=>{i([`Page 1`,`Page 2`,`Page 3`]),n(!1)},800)},disabled:t,className:`p-1.5 rounded-lg transition-all ${t?`bg-blue-500/20`:`hover:bg-blue-500/10 active:scale-95 group`}`,children:(0,X.jsxs)(`svg`,{width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,className:t?`animate-pulse`:`group-hover:scale-110 transition-transform`,children:[(0,X.jsx)(`path`,{d:`M12 2L14.8 9.2L22 12L14.8 14.8L12 22L9.2 14.8L2 12L9.2 9.2L12 2Z`,fill:`url(#star-gradient-demo)`,stroke:`url(#star-gradient-demo)`,strokeWidth:`1.5`,strokeLinecap:`round`,strokeLinejoin:`round`}),(0,X.jsx)(`defs`,{children:(0,X.jsxs)(`linearGradient`,{id:`star-gradient-demo`,x1:`2`,y1:`2`,x2:`22`,y2:`22`,gradientUnits:`userSpaceOnUse`,children:[(0,X.jsx)(`stop`,{stopColor:`#93C5FD`}),(0,X.jsx)(`stop`,{offset:`0.5`,stopColor:`#60A5FA`}),(0,X.jsx)(`stop`,{offset:`1`,stopColor:`#3B82F6`})]})})]})}),(0,X.jsx)(`div`,{className:`ml-auto text-[10px] font-bold text-blue-500/60 uppercase tracking-tighter`,children:e===`zh`?`点击星标体验`:`Click Star to Start`})]}),(0,X.jsxs)(`div`,{className:`flex-1 relative overflow-hidden flex gap-4 justify-center items-center`,children:[(0,X.jsx)(R,{mode:`wait`,children:r.length?(0,X.jsx)(`div`,{className:`flex gap-3 h-full items-center`,children:r.map((e,t)=>(0,X.jsxs)(z.div,{initial:{opacity:0,x:20,scale:.8},animate:{opacity:1,x:0,scale:1},transition:{delay:t*.15,type:`spring`,damping:12},className:`w-28 h-40 bg-white dark:bg-[#1a1a1a] rounded-lg shadow-lg border border-black/5 dark:border-white/10 p-3 flex flex-col gap-1.5 overflow-hidden`,children:[(0,X.jsx)(`div`,{className:`w-8 h-1.5 bg-blue-500/40 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-1 mt-1`,children:[(0,X.jsx)(`div`,{className:`w-full h-1 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-5/6 h-1 bg-black/5 dark:bg-white/10 rounded-full`})]}),t>0&&(0,X.jsx)(`div`,{className:`w-6 h-1.5 bg-purple-500/30 rounded-full mt-1`}),t>0&&(0,X.jsxs)(`div`,{className:`space-y-1`,children:[(0,X.jsx)(`div`,{className:`w-full h-1 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-2/3 h-1 bg-black/5 dark:bg-white/10 rounded-full`})]}),(0,X.jsx)(`div`,{className:`mt-auto flex justify-center`,children:(0,X.jsx)(`div`,{className:`text-[6px] font-bold opacity-20`,children:t+1})})]},t))}):(0,X.jsxs)(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:`w-48 h-64 bg-white dark:bg-[#1a1a1a] rounded-xl shadow-xl border border-black/5 dark:border-white/10 p-4 flex flex-col gap-2 overflow-hidden`,children:[(0,X.jsx)(`div`,{className:`w-12 h-2 bg-blue-500/40 rounded-full`}),(0,X.jsxs)(`div`,{className:`space-y-1.5 mt-2`,children:[(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-5/6 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`})]}),(0,X.jsx)(`div`,{className:`w-8 h-2 bg-purple-500/30 rounded-full mt-2`}),(0,X.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-full h-1.5 bg-black/5 dark:bg-white/10 rounded-full`}),(0,X.jsx)(`div`,{className:`w-2/3 h-1.5 bg-black/5 dark:bg-white/10 rounded-full`})]})]},`original`)}),t&&(0,X.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center bg-white/10 dark:bg-black/10 backdrop-blur-[1px] z-10`,children:(0,X.jsx)(z.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:`linear`},children:(0,X.jsx)(w,{size:24,className:`text-blue-500`})})})]})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-4 p-4 bg-purple-500/5 rounded-2xl border border-purple-500/10 w-full max-w-md`,children:[(0,X.jsx)(`div`,{className:`p-2 bg-purple-500/10 rounded-xl text-purple-500`,children:(0,X.jsx)(k,{size:20})}),(0,X.jsxs)(`div`,{className:`flex-1`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-700 dark:text-slate-300`,children:e===`zh`?`语义化智能分页`:`Semantic Smart Pagination`}),(0,X.jsx)(`div`,{className:`text-[10px] text-slate-500 leading-relaxed`,children:e===`zh`?`基于内容块的智能识别，自动避开标题和列表的中间截断，让卡片排版更美观。`:`Intelligently identifies content blocks to avoid cutting off headings or lists, making card layouts more beautiful.`})]})]})]})},Ye=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(50);return(0,X.jsx)(`div`,{className:`w-full max-w-xs space-y-4`,children:(0,X.jsxs)(`div`,{className:`bg-white/50 dark:bg-white/5 p-4 rounded-xl border border-black/5 dark:border-white/5 opacity-60`,children:[(0,X.jsx)(`div`,{className:`text-[10px] font-bold text-slate-400 uppercase mb-4 text-center`,children:e===`zh`?`旧版布局 (v1.2.0)`:`Old Layout (v1.2.0)`}),(0,X.jsxs)(`div`,{className:`space-y-2`,children:[(0,X.jsx)(`label`,{className:`text-[10px] font-medium opacity-50 block`,children:e===`zh`?`参数设置`:`Parameter Setting`}),(0,X.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,X.jsx)(`input`,{type:`range`,min:0,max:100,value:t,onChange:e=>n(parseInt(e.target.value)),className:`flex-1 accent-slate-400 h-1 bg-black/10 dark:bg-white/10 rounded-lg appearance-none cursor-pointer`}),(0,X.jsx)(`span`,{className:`text-xs font-mono opacity-40 w-8`,children:t})]}),(0,X.jsx)(`p`,{className:`text-[9px] text-red-400/60 leading-tight`,children:e===`zh`?`* 旧版参数显示在进度条右侧，容易被遮挡`:`* Parameters displayed next to slider, easily obscured`})]})]})})},Xe=()=>{let{language:e}=q(),[t,n]=(0,K.useState)(50);return(0,X.jsxs)(`div`,{className:`w-full max-w-xs space-y-6`,children:[(0,X.jsxs)(`div`,{className:`bg-white dark:bg-[#151515] p-4 rounded-xl border border-black/5 dark:border-white/5 shadow-sm`,children:[(0,X.jsx)(`div`,{className:`text-xs font-bold text-slate-400 uppercase mb-4 text-center`,children:e===`zh`?`新版布局样式`:`New Layout Style`}),(0,X.jsxs)(`div`,{children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium opacity-70 block`,children:e===`zh`?`参数`:`Parameter`}),(0,X.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,X.jsx)(`span`,{className:`text-sm font-bold opacity-90 min-w-[2ch] text-right font-mono`,children:t}),(0,X.jsx)(`span`,{className:`text-[10px] opacity-40 font-mono`,children:`px`})]})]}),(0,X.jsx)(`input`,{type:`range`,min:0,max:100,value:t,onChange:e=>n(parseInt(e.target.value)),className:`w-full accent-blue-500 h-1.5 bg-black/10 dark:bg-white/10 rounded-lg appearance-none cursor-pointer`})]})]}),(0,X.jsxs)(`div`,{className:`flex items-center justify-center gap-2 text-[10px] text-slate-400`,children:[(0,X.jsx)(g,{size:12,className:`text-green-500`}),(0,X.jsx)(`span`,{children:e===`zh`?`优化空间利用与可读性`:`Optimized for space & readability`})]})]})},Ze=`/Md2Design/assets/logo-aqEdHyv0.svg`;const Qe=()=>{let{theme:e,toggleTheme:t,toggleLanguage:n,isScrolled:r,previewZoom:i,setPreviewZoom:a}=q(),o=J(),[s,c]=(0,K.useState)(!1),[u,d]=(0,K.useState)(!1),[h,g]=(0,K.useState)(!1),[_,v]=(0,K.useState)(!1);(0,K.useEffect)(()=>{console.log(`Onboarding will show in 1.5s...`);let e=setTimeout(()=>{v(!0)},1500);return()=>clearTimeout(e)},[]);let y=()=>{v(!1)},b=({value:e,options:t,onChange:n,className:r=``})=>{let[i,a]=(0,K.useState)(!1),o=t.find(t=>t.id===e);return(0,X.jsxs)(`div`,{className:`relative ${r}`,children:[(0,X.jsxs)(`button`,{onClick:()=>a(!i),className:`w-full bg-white/50 dark:bg-black/20 border border-black/5 dark:border-white/5 rounded-lg p-2 text-xs flex items-center justify-between hover:border-blue-500/30 transition-all`,children:[(0,X.jsx)(`span`,{className:`truncate`,children:o?.label}),(0,X.jsx)(p,{size:12,className:`transition-transform duration-200 ${i?`rotate-180`:``}`})]}),(0,X.jsx)(R,{children:i&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{className:`fixed inset-0 z-[100]`,onClick:()=>a(!1)}),(0,X.jsx)(z.div,{initial:{opacity:0,y:4,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.95},className:`absolute left-0 right-0 top-full mt-1 z-[101] bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-xl shadow-2xl overflow-hidden py-1`,children:t.map(t=>(0,X.jsxs)(`button`,{onClick:()=>{n(t.id),a(!1)},className:`w-full px-3 py-2 text-left text-xs transition-colors flex items-center justify-between ${e===t.id?`bg-blue-500 text-white`:`text-slate-700 dark:text-white/70 hover:bg-black/5 dark:hover:bg-white/5`}`,children:[t.label,e===t.id&&(0,X.jsx)(m,{size:12})]},t.id))})]})})]})},[x,ee]=(0,K.useState)(`png`),[C,ne]=(0,K.useState)(2),[T,re]=(0,K.useState)(`multiple`),[E,D]=(0,K.useState)(`zip`),[O,ae]=(0,K.useState)(`cards-export`),[k,oe]=(0,K.useState)(`system`),[A,j]=(0,K.useState)([`prefix`,`date`,`custom`,`number`]),[M,N]=(0,K.useState)({prefix:`Md2Design`,custom:`MyCard`,includeTime:!0,dateFormat:`dateFormatFull`,numberType:`arabic`,numberOrder:`asc`,zeroStart:!1}),I=(e,t)=>{let n=new Date,r=e=>e.toString().padStart(2,`0`),i=(()=>{let e=n.getFullYear().toString().slice(-2),t=r(n.getMonth()+1),i=r(n.getDate());switch(M.dateFormat){case`dateFormatFull`:return`${e}${t}${i}`;case`dateFormatShort`:return`${t}${i}`;case`dateFormatMDY`:return`${t}${i}${e}`;case`dateFormatDMY`:return`${i}${t}${e}`;case`dateFormatYMD`:return`${e}${t}${i}`;default:return`${e}${t}${i}`}})(),a=`${r(n.getHours())}${r(n.getMinutes())}`;return k===`system`?`Md2Design_${i}_${a}_${M.custom}_${e+1}`:A.map(n=>{switch(n){case`prefix`:return M.prefix;case`date`:return M.includeTime?`${i}_${a}`:i;case`custom`:return M.custom;case`number`:{let n=M.numberOrder===`asc`?e:t-1-e;return M.zeroStart||(n+=1),M.numberType===`chinese`&&n<=10?[`零`,`一`,`二`,`三`,`四`,`五`,`六`,`七`,`八`,`九`,`十`][n]:n.toString()}default:return``}}).filter(Boolean).join(`_`)},[L,B]=(0,K.useState)(!1),[V,de]=(0,K.useState)(0),[H,U]=(0,K.useState)(!1),[W,G]=(0,K.useState)({single:`-`,total:`-`});return(0,K.useEffect)(()=>{if(!u)return;let e=setTimeout(async()=>{let e=document.querySelector(`[id^="card-"]`);if(e)try{G({single:o.calculating,total:o.calculating});let t={pixelRatio:C,filter:e=>!e.classList?.contains(`export-ignore`)},n;if(x===`png`){let r=await ue(e,t);n=await(await fetch(r)).blob()}else{let r=await le(e,{...t,quality:.9});n=await(await fetch(r)).blob()}let r=n.size/1024/1024,i=r*document.querySelectorAll(`[id^="card-"]`).length;G({single:`${r.toFixed(2)} MB`,total:`${i.toFixed(2)} MB`})}catch(e){console.error(e),G({single:`Error`,total:`Error`})}},500);return()=>clearTimeout(e)},[u,x,C,o.calculating]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(`div`,{className:`h-14 w-full flex items-center justify-between px-6 shrink-0 z-50 fixed top-0 left-0 transition-all duration-300 ${r?`glass-bar`:`bg-transparent`}`,children:[(0,X.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,X.jsxs)(`div`,{className:`font-bold text-lg tracking-tight flex items-center gap-2`,children:[(0,X.jsx)(`img`,{src:Ze,alt:`Logo`,className:`w-6 h-6`}),(0,X.jsx)(`span`,{className:`opacity-90`,children:o.title})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,X.jsxs)(`button`,{onClick:()=>g(!0),className:`hidden sm:flex items-center gap-1.5 px-3 py-1 bg-white/80 dark:bg-white/10 hover:bg-white dark:hover:bg-white/20 text-blue-600 dark:text-blue-400 rounded-full text-xs font-bold transition-all relative group overflow-hidden`,children:[(0,X.jsx)(z.div,{className:`absolute inset-0 rounded-full bg-blue-500/20 blur-md -z-20 pointer-events-none`,animate:{opacity:[.4,.8,.4],scale:[1,1.15,1]},transition:{duration:3,repeat:1/0,ease:`easeInOut`}}),(0,X.jsx)(z.div,{className:`absolute inset-0 rounded-full border border-blue-500/50 shadow-[0_0_8px_rgba(59,130,246,0.4)] -z-10 pointer-events-none`,animate:{opacity:[.5,1,.5],boxShadow:[`0 0 2px rgba(59,130,246,0.2)`,`0 0 10px rgba(59,130,246,0.5)`,`0 0 2px rgba(59,130,246,0.2)`]},transition:{duration:3,repeat:1/0,ease:`easeInOut`}}),(0,X.jsxs)(`div`,{className:`relative w-3 h-3 flex items-center justify-center`,children:[(0,X.jsx)(w,{size:12,className:`relative z-10 group-hover:scale-110 transition-transform`}),(0,X.jsx)(w,{size:12,className:`absolute inset-0 text-blue-500 opacity-0 group-hover:opacity-100 group-hover:animate-ping`})]}),(0,X.jsx)(`span`,{className:`relative z-10`,children:o.changelogTitle})]}),(0,X.jsxs)(`div`,{className:`relative flex items-center`,children:[(0,X.jsxs)(`a`,{href:`https://dcnzkep5lste.feishu.cn/share/base/form/shrcn2yBpNQA0NpeZjZwt8NShJh`,target:`_blank`,rel:`noopener noreferrer`,className:`hidden sm:flex items-center gap-1.5 px-3 py-1 bg-white/80 dark:bg-white/10 hover:bg-white dark:hover:bg-white/20 text-green-600 dark:text-green-400 rounded-full text-xs font-bold transition-all relative group`,children:[(0,X.jsx)(z.div,{className:`absolute inset-0 rounded-full bg-green-500/20 blur-md -z-20 pointer-events-none`,animate:{opacity:[.4,.8,.4],scale:[1,1.15,1]},transition:{duration:3,repeat:1/0,ease:`easeInOut`}}),(0,X.jsx)(z.div,{className:`absolute inset-0 rounded-full border border-green-500/50 shadow-[0_0_8px_rgba(34,197,94,0.4)] -z-10 pointer-events-none`,animate:{opacity:[.5,1,.5],boxShadow:[`0 0 2px rgba(34,197,94,0.2)`,`0 0 10px rgba(34,197,94,0.5)`,`0 0 2px rgba(34,197,94,0.2)`]},transition:{duration:3,repeat:1/0,ease:`easeInOut`}}),(0,X.jsx)(ce,{size:12,className:`relative z-10 group-hover:animate-bounce`}),(0,X.jsx)(`span`,{className:`relative z-10`,children:o.feedback})]}),(0,X.jsx)(R,{children:_&&(0,X.jsx)(z.div,{initial:{opacity:0,scaleX:0,scaleY:0,originX:0,x:10,borderRadius:`100px`},animate:{opacity:1,scaleX:1,scaleY:1,originX:0,x:12,borderRadius:`12px`},exit:{opacity:0,scaleX:0,scaleY:0,originX:0,x:10,borderRadius:`100px`},transition:{type:`spring`,stiffness:260,damping:20},className:`absolute left-full whitespace-nowrap z-[100]`,children:(0,X.jsxs)(`div`,{className:`bg-orange-400/85 dark:bg-orange-500/80 backdrop-blur-md text-white px-4 py-2 rounded-xl shadow-[0_10px_30px_-10px_rgba(251,146,60,0.5)] text-xs font-bold flex items-center gap-2 border border-white/20`,children:[(0,X.jsx)(`div`,{className:`w-1.5 h-1.5 rounded-full bg-white animate-pulse`}),o.onboardingTip,(0,X.jsx)(`button`,{onClick:y,className:`ml-2 p-1 hover:bg-white/20 rounded-full transition-colors`,children:(0,X.jsx)(P,{size:12,className:`text-white`})})]})})})]})]})]}),(0,X.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,X.jsxs)(`div`,{className:`hidden lg:flex items-center gap-2 mr-2`,children:[(0,X.jsx)(`span`,{className:`text-xs font-mono opacity-70 w-8 text-right`,children:i>0?`${Math.round(i*100)}%`:`Auto`}),(0,X.jsx)(`input`,{type:`range`,min:`0.2`,max:`4`,step:`0.1`,value:i||1,onChange:e=>a(parseFloat(e.target.value)),className:`w-24 accent-blue-500 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700`}),i>0&&(0,X.jsx)(`button`,{onClick:()=>a(0),className:`ml-1 p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-blue-500`,title:`Reset to Auto`,children:(0,X.jsx)(F,{size:12})})]}),(0,X.jsx)(`button`,{onClick:()=>c(!0),className:`p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-inherit opacity-80 hover:opacity-100`,title:o.contactAuthor,children:(0,X.jsx)(f,{size:18})}),(0,X.jsx)(`a`,{href:`https://github.com/LuN3cy/Md2Design`,target:`_blank`,rel:`noopener noreferrer`,className:`p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-inherit opacity-80 hover:opacity-100`,children:(0,X.jsx)(l,{size:18})}),(0,X.jsx)(`button`,{onClick:n,className:`p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-inherit opacity-80 hover:opacity-100`,children:(0,X.jsx)(se,{size:18})}),(0,X.jsx)(`button`,{onClick:t,className:`p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-inherit opacity-80 hover:opacity-100`,children:e===`light`?(0,X.jsx)(S,{size:18}):(0,X.jsx)(te,{size:18})}),(0,X.jsx)(`div`,{className:`h-6 w-px bg-black/20 dark:bg-white/20 mx-1`}),(0,X.jsxs)(`button`,{onClick:()=>d(!0),className:`flex items-center gap-2 px-4 py-1.5 bg-black text-white dark:bg-white dark:text-black rounded-full text-sm font-medium hover:opacity-90 transition-opacity shadow-lg`,children:[(0,X.jsx)(ie,{size:16}),o.exportImage]})]})]}),(0,X.jsx)(Pe,{isOpen:h,onClose:()=>g(!1)}),(0,X.jsx)(R,{children:u&&(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4`,onClick:()=>d(!1),children:(0,X.jsxs)(z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative flex flex-col max-h-[90vh]`,onClick:e=>e.stopPropagation(),children:[(0,X.jsx)(`div`,{className:`absolute top-0 right-0 w-64 h-64 bg-blue-500/10 blur-[80px] rounded-full pointer-events-none -z-0`}),(0,X.jsx)(`div`,{className:`absolute bottom-0 left-0 w-48 h-48 bg-purple-500/10 blur-[60px] rounded-full pointer-events-none -z-0`}),(0,X.jsxs)(`div`,{className:`relative z-10 flex flex-col h-full overflow-hidden`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between mb-6 shrink-0`,children:[(0,X.jsxs)(`h3`,{className:`text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2`,children:[(0,X.jsx)(ie,{size:20,className:`text-blue-500 dark:text-blue-400`}),o.exportSettings]}),(0,X.jsx)(`button`,{onClick:()=>d(!1),className:`p-1.5 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-black/60 dark:text-white/60 hover:text-black dark:hover:text-white`,children:(0,X.jsx)(P,{size:20})})]}),(0,X.jsxs)(`div`,{className:`space-y-6 flex-1 overflow-y-auto min-h-0 pr-2 -mr-2 custom-scrollbar`,children:[(0,X.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-xs font-medium text-slate-500 dark:text-white/50 mb-2 block uppercase tracking-wider`,children:o.format}),(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5`,children:[`png`,`jpg`].map(e=>(0,X.jsx)(`button`,{onClick:()=>ee(e),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all uppercase ${x===e?`bg-blue-500 text-white shadow-lg shadow-blue-500/20`:`text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5`}`,children:e},e))})]}),(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-xs font-medium text-slate-500 dark:text-white/50 mb-2 block uppercase tracking-wider`,children:o.scale}),(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5`,children:[1,2,3,4].map(e=>(0,X.jsxs)(`button`,{onClick:()=>ne(e),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${C===e?`bg-blue-500 text-white shadow-lg shadow-blue-500/20`:`text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5`}`,children:[e,`x`]},e))})]})]}),(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-xs font-medium text-slate-500 dark:text-white/50 mb-2 block uppercase tracking-wider`,children:o.exportMode}),(0,X.jsx)(`div`,{className:`flex flex-col gap-2`,children:[{value:`multiple`,label:o.multipleFiles,desc:`Package multiple cards`},{value:`single`,label:o.singleFile,desc:`Download cards one by one`}].map(e=>(0,X.jsxs)(`button`,{onClick:()=>re(e.value),className:`p-3 rounded-xl border transition-all text-left flex items-center justify-between group ${T===e.value?`bg-blue-500/10 border-blue-500/50`:`bg-black/5 dark:bg-white/5 border-black/5 dark:border-white/5 hover:bg-black/10 dark:hover:bg-white/10 hover:border-black/10 dark:hover:border-white/10`}`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`div`,{className:`text-sm font-medium ${T===e.value?`text-blue-500 dark:text-blue-400`:`text-slate-700 dark:text-white/80`}`,children:e.label}),(0,X.jsx)(`div`,{className:`text-xs opacity-50 mt-0.5`,children:e.desc})]}),(0,X.jsx)(`div`,{className:`w-4 h-4 rounded-full border flex items-center justify-center ${T===e.value?`border-blue-500`:`border-black/20 dark:border-white/20 group-hover:border-black/40 dark:group-hover:border-white/40`}`,children:T===e.value&&(0,X.jsx)(`div`,{className:`w-2 h-2 rounded-full bg-blue-500`})})]},e.value))})]}),T===`multiple`&&(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-xs font-medium text-slate-500 dark:text-white/50 mb-2 block uppercase tracking-wider`,children:o.exportTarget}),(0,X.jsx)(`div`,{className:`flex flex-col gap-2`,children:[{value:`zip`,label:o.targetZip,desc:`Compatible with all folders`},{value:`folder`,label:o.targetFolder,desc:`Requires folder permission`}].map(e=>(0,X.jsxs)(`button`,{onClick:()=>D(e.value),className:`p-3 rounded-xl border transition-all text-left flex items-center justify-between group ${E===e.value?`bg-blue-500/10 border-blue-500/50`:`bg-black/5 dark:bg-white/5 border-black/5 dark:border-white/5 hover:bg-black/10 dark:hover:bg-white/10 hover:border-black/10 dark:hover:border-white/10`}`,children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`div`,{className:`text-sm font-medium ${E===e.value?`text-blue-500 dark:text-blue-400`:`text-slate-700 dark:text-white/80`}`,children:e.label}),(0,X.jsx)(`div`,{className:`text-xs opacity-50 mt-0.5`,children:e.desc})]}),(0,X.jsx)(`div`,{className:`w-4 h-4 rounded-full border flex items-center justify-center ${E===e.value?`border-blue-500`:`border-black/20 dark:border-white/20 group-hover:border-black/40 dark:group-hover:border-white/40`}`,children:E===e.value&&(0,X.jsx)(`div`,{className:`w-2 h-2 rounded-full bg-blue-500`})})]},e.value))}),E===`folder`&&(0,X.jsx)(`p`,{className:`mt-2 text-[10px] text-amber-600 dark:text-amber-400/80 leading-relaxed px-1`,children:o.systemFolderWarning})]}),T===`multiple`&&(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`label`,{className:`text-xs font-medium text-slate-500 dark:text-white/50 mb-2 block uppercase tracking-wider`,children:o.folderName}),(0,X.jsx)(`input`,{type:`text`,value:O,onChange:e=>ae(e.target.value),placeholder:`cards-export`,className:`w-full bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded-xl p-3 text-sm text-slate-900 dark:text-white placeholder-black/30 dark:placeholder-white/20 focus:border-blue-500/50 focus:outline-none focus:ring-1 focus:ring-blue-500/50 transition-all`})]}),(0,X.jsxs)(`div`,{className:`space-y-4`,children:[(0,X.jsx)(`label`,{className:`text-xs font-medium text-slate-500 dark:text-white/50 mb-2 block uppercase tracking-wider`,children:o.fileNameCustom}),(0,X.jsx)(`div`,{className:`flex p-1 bg-black/5 dark:bg-white/5 rounded-lg border border-black/5 dark:border-white/5`,children:[{id:`system`,label:o.namingModeSystem},{id:`custom`,label:o.namingModeCustom}].map(e=>(0,X.jsx)(`button`,{onClick:()=>oe(e.id),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${k===e.id?`bg-blue-500 text-white shadow-lg shadow-blue-500/20`:`text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white`}`,children:e.label},e.id))}),k===`system`?(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsx)(`input`,{type:`text`,value:M.custom,onChange:e=>N({...M,custom:e.target.value}),placeholder:o.namingCustom,className:`w-full bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded-xl p-3 text-sm text-slate-900 dark:text-white focus:border-blue-500/50 focus:outline-none focus:ring-1 focus:ring-blue-500/50 transition-all`}),(0,X.jsxs)(`div`,{className:`p-3 bg-black/5 dark:bg-white/5 rounded-xl border border-black/5 dark:border-white/5`,children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider text-black/40 dark:text-white/40 mb-1 block`,children:o.namingPreview}),(0,X.jsxs)(`div`,{className:`text-xs font-mono text-slate-500 dark:text-white/60 truncate`,children:[I(0,10),`.`,x]})]})]}):(0,X.jsxs)(`div`,{className:`space-y-4`,children:[(0,X.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:[{id:`prefix`,label:o.namingPrefix},{id:`date`,label:o.namingDate},{id:`custom`,label:o.namingCustom},{id:`number`,label:o.namingNumber}].map(e=>(0,X.jsxs)(`button`,{onClick:()=>{A.includes(e.id)?j(A.filter(t=>t!==e.id)):j([...A,e.id])},className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${A.includes(e.id)?`bg-blue-500 border-blue-500 text-white shadow-md`:`bg-black/5 dark:bg-white/5 border-black/5 dark:border-white/5 text-black/40 dark:text-white/40`}`,children:[e.label,A.includes(e.id)&&(0,X.jsx)(`span`,{className:`ml-1.5 opacity-60`,children:A.indexOf(e.id)+1})]},e.id))}),(0,X.jsx)(`div`,{className:`space-y-3`,children:A.map(e=>(0,X.jsxs)(z.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 bg-black/5 dark:bg-white/5 rounded-xl border border-black/5 dark:border-white/5 space-y-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`span`,{className:`text-[10px] font-bold uppercase tracking-wider text-blue-500/60`,children:o[`naming${e.charAt(0).toUpperCase()+e.slice(1)}`]}),(0,X.jsxs)(`div`,{className:`flex gap-1`,children:[(0,X.jsx)(`button`,{onClick:()=>{let t=A.indexOf(e);if(t>0){let e=[...A];[e[t],e[t-1]]=[e[t-1],e[t]],j(e)}},className:`p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded`,children:(0,X.jsx)(p,{size:12,className:`rotate-180 opacity-40`})}),(0,X.jsx)(`button`,{onClick:()=>{let t=A.indexOf(e);if(t<A.length-1){let e=[...A];[e[t],e[t+1]]=[e[t+1],e[t]],j(e)}},className:`p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded`,children:(0,X.jsx)(p,{size:12,className:`opacity-40`})})]})]}),e===`prefix`&&(0,X.jsx)(`input`,{type:`text`,value:M.prefix,onChange:e=>N({...M,prefix:e.target.value}),className:`w-full bg-white/50 dark:bg-black/20 border border-black/5 dark:border-white/5 rounded-lg p-2 text-xs focus:outline-none focus:border-blue-500/30`}),e===`custom`&&(0,X.jsx)(`input`,{type:`text`,value:M.custom,onChange:e=>N({...M,custom:e.target.value}),className:`w-full bg-white/50 dark:bg-black/20 border border-black/5 dark:border-white/5 rounded-lg p-2 text-xs focus:outline-none focus:border-blue-500/30`}),e===`date`&&(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`span`,{className:`text-xs text-slate-500 dark:text-white/40`,children:o.namingIncludeTime}),(0,X.jsx)(`button`,{onClick:()=>N({...M,includeTime:!M.includeTime}),className:`w-8 h-4 rounded-full transition-colors relative ${M.includeTime?`bg-blue-500`:`bg-black/20 dark:bg-white/20`}`,children:(0,X.jsx)(`div`,{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${M.includeTime?`right-0.5`:`left-0.5`}`})})]}),(0,X.jsx)(b,{value:M.dateFormat,options:[{id:`dateFormatFull`,label:o.dateFormatFull},{id:`dateFormatShort`,label:o.dateFormatShort},{id:`dateFormatMDY`,label:o.dateFormatMDY},{id:`dateFormatDMY`,label:o.dateFormatDMY},{id:`dateFormatYMD`,label:o.dateFormatYMD}],onChange:e=>N({...M,dateFormat:e})})]}),e===`number`&&(0,X.jsxs)(`div`,{className:`space-y-3`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between gap-2`,children:[(0,X.jsx)(b,{className:`flex-1`,value:M.numberType,options:[{id:`arabic`,label:o.namingArabic},{id:`chinese`,label:o.namingChinese}],onChange:e=>N({...M,numberType:e})}),(0,X.jsx)(b,{className:`flex-1`,value:M.numberOrder,options:[{id:`asc`,label:o.namingOrderAsc},{id:`desc`,label:o.namingOrderDesc}],onChange:e=>N({...M,numberOrder:e})})]}),(0,X.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,X.jsx)(`span`,{className:`text-xs text-slate-500 dark:text-white/40`,children:o.namingZeroStart}),(0,X.jsx)(`button`,{onClick:()=>N({...M,zeroStart:!M.zeroStart}),className:`w-8 h-4 rounded-full transition-colors relative ${M.zeroStart?`bg-blue-500`:`bg-black/20 dark:bg-white/20`}`,children:(0,X.jsx)(`div`,{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${M.zeroStart?`right-0.5`:`left-0.5`}`})})]})]})]},e))}),(0,X.jsxs)(`div`,{className:`p-3 bg-black/5 dark:bg-white/5 rounded-xl border border-black/5 dark:border-white/5`,children:[(0,X.jsx)(`label`,{className:`text-[10px] uppercase tracking-wider text-black/40 dark:text-white/40 mb-1 block`,children:o.namingPreview}),(0,X.jsx)(`div`,{className:`space-y-1 font-mono text-[10px] text-slate-500 dark:text-white/60`,children:A.includes(`number`)?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(`div`,{className:`truncate`,children:[I(0,5),`.`,x]}),(0,X.jsx)(`div`,{className:`opacity-40`,children:`...`}),(0,X.jsxs)(`div`,{className:`truncate`,children:[I(4,5),`.`,x]})]}):(0,X.jsxs)(`div`,{className:`truncate`,children:[I(0,1),`.`,x]})})]})]})]})]}),(0,X.jsxs)(`div`,{className:`mt-6 space-y-4 shrink-0 z-10`,children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-black/5 dark:bg-white/5 rounded-xl border border-black/5 dark:border-white/5`,children:[(0,X.jsxs)(`div`,{className:`flex flex-col`,children:[(0,X.jsx)(`span`,{className:`text-[10px] uppercase tracking-wider text-black/40 dark:text-white/40`,children:`Single Size`}),(0,X.jsx)(`span`,{className:`text-sm font-mono text-slate-700 dark:text-white/80`,children:W.single})]}),(0,X.jsx)(`div`,{className:`w-px h-8 bg-black/10 dark:bg-white/10`}),(0,X.jsxs)(`div`,{className:`flex flex-col items-end`,children:[(0,X.jsxs)(`span`,{className:`text-[10px] uppercase tracking-wider text-black/40 dark:text-white/40`,children:[o.total,` Size`]}),(0,X.jsx)(`span`,{className:`text-sm font-mono text-blue-500 dark:text-blue-400`,children:W.total})]})]}),(0,X.jsxs)(`div`,{className:`space-y-3`,children:[L&&(0,X.jsx)(`div`,{className:`w-full bg-black/5 dark:bg-white/5 rounded-full h-1.5 overflow-hidden`,children:(0,X.jsx)(z.div,{className:`h-full bg-blue-500 rounded-full`,initial:{width:0},animate:{width:`${V}%`},transition:{duration:.2}})}),(0,X.jsx)(`button`,{onClick:async()=>{B(!0),de(0);try{let e=Array.from(document.querySelectorAll(`[id^="card-"]`)),t={pixelRatio:C,filter:e=>!e.classList?.contains(`export-ignore`)},n=0,r=e.length,i=()=>{n++,de(Math.round(n/r*100))},a=async e=>{let n=Array.from(e.querySelectorAll(`img`)),r=new Map;try{await Promise.all(n.map(async e=>{let t=e.src;if(!t.startsWith(`data:`))try{r.set(e,t);let n=await(await fetch(t)).blob();e.src=await new Promise(e=>{let t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(n)})}catch(e){console.warn(`Failed to inline image:`,t,e)}}));let i,a={...t,useCORS:!0,skipAutoScale:!0};return i=x===`png`?await ue(e,a):await le(e,{...a,quality:.9}),await(await fetch(i)).blob()}finally{r.forEach((e,t)=>{t.src=e})}};if(T===`multiple`){let t=async()=>{let t=new Ne.default;for(let n=0;n<e.length;n+=3){let r=e.slice(n,n+3);await Promise.all(r.map(async(r,o)=>{let s=n+o,c=await a(r);t.file(`${I(s,e.length)}.${x}`,c),i()}))}(0,Me.saveAs)(await t.generateAsync({type:`blob`}),`${O||`cards-export`}.zip`)};if(E===`folder`&&`showDirectoryPicker`in window)try{let t=await window.showDirectoryPicker(),n=t;O&&(n=await t.getDirectoryHandle(O,{create:!0}));let r=e.map((t,r)=>async()=>{let o=await a(t),s=`${I(r,e.length)}.${x}`,c=await(await n.getFileHandle(s,{create:!0})).createWritable();await c.write(o),await c.close(),i()}),o=[];for(let e of r){let t=e().then(()=>{o.splice(o.indexOf(t),1)});o.push(t),o.length>=3&&await Promise.race(o)}await Promise.all(o)}catch(e){if(e.name===`AbortError`){B(!1);return}console.error(`Directory picker failed, falling back to ZIP`,e),await t()}else await t()}else for(let t=0;t<e.length;t++){let n=e[t];(0,Me.saveAs)(await a(n),`${I(t,e.length)}.${x}`),i(),await new Promise(e=>setTimeout(e,200))}d(!1),U(!0),setTimeout(()=>U(!1),3e3)}catch(e){console.error(`Export failed`,e)}finally{B(!1)}},disabled:L,className:`w-full py-3.5 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white rounded-xl text-sm font-bold shadow-xl shadow-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transform active:scale-[0.98]`,children:L?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{className:`w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin`}),o.calculating,` (`,V,`%)`]}):(0,X.jsxs)(X.Fragment,{children:[o.exportBtn,(0,X.jsx)(p,{size:16,className:`-rotate-90 opacity-60`})]})})]})]})]})]})})}),(0,X.jsx)(R,{children:H&&(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[70] flex items-center justify-center pointer-events-none`,children:(0,X.jsxs)(z.div,{initial:{scale:.8,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:20,opacity:0},className:`bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 pointer-events-auto`,children:[(0,X.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-500`,children:(0,X.jsx)(m,{size:20,strokeWidth:3})}),(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`h3`,{className:`text-sm font-bold text-slate-900 dark:text-white`,children:o.exportSuccess}),(0,X.jsx)(`p`,{className:`text-xs text-slate-500 dark:text-white/60`,children:o.exportSuccessMsg})]})]})})}),(0,X.jsx)(R,{children:s&&(0,X.jsx)(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4`,onClick:()=>c(!1),children:(0,X.jsxs)(z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`bg-white/90 dark:bg-black/90 backdrop-blur-xl border border-black/20 dark:border-white/20 p-6 rounded-2xl w-full max-w-md shadow-2xl`,onClick:e=>e.stopPropagation(),children:[(0,X.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,X.jsx)(`h3`,{className:`text-lg font-bold`,children:o.contactAuthor}),(0,X.jsx)(`button`,{onClick:()=>c(!1),className:`p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors`,children:(0,X.jsx)(P,{size:20})})]}),(0,X.jsx)(`div`,{className:`space-y-3`,children:[{main:`公众号 LuN3cy的实验房`,sub:``,url:`https://mp.weixin.qq.com/s/sAIYq8gaezAumyIbGHiJ_w`,color:`hover:border-[#07C160] hover:bg-[#07C160]/10`},{main:`小红书 LuN3cy`,sub:``,url:`https://www.xiaohongshu.com/user/profile/61bbb882000000001000e80d`,color:`hover:border-[#FF2442] hover:bg-[#FF2442]/10`},{main:`Bilibili LuN3cy`,sub:``,url:`https://b23.tv/i42oxgt`,color:`hover:border-[#00AEEC] hover:bg-[#00AEEC]/10`}].map((e,t)=>(0,X.jsx)(`a`,{href:e.url,target:`_blank`,rel:`noopener noreferrer`,className:`block p-4 bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded-xl transition-all hover:scale-[1.02] ${e.color}`,children:(0,X.jsx)(`div`,{className:`font-bold mb-1`,children:e.main})},t))})]})})})]})};function $e(){let{theme:e,cardStyle:t}=q(),{undo:n,redo:r}=q.temporal.getState();return(0,K.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&e.key===`z`&&(e.shiftKey?(e.preventDefault(),r()):(e.preventDefault(),n()))};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[]),(0,K.useEffect)(()=>{e===`dark`?document.documentElement.classList.add(`dark`):document.documentElement.classList.remove(`dark`)},[e]),(0,K.useEffect)(()=>{let e=`custom-fonts-style`,n=document.getElementById(e);n||(n=document.createElement(`style`),n.id=e,document.head.appendChild(n));let r=e=>{if(e.startsWith(`data:`)){let t=e.slice(5,e.indexOf(`;`));return t.includes(`woff2`)?`woff2`:t.includes(`woff`)?`woff`:t.includes(`otf`)||t.includes(`opentype`)?`opentype`:(t.includes(`ttf`)||t.includes(`truetype`),`truetype`)}let t=e.toLowerCase();return t.endsWith(`.woff2`)?`woff2`:t.endsWith(`.woff`)?`woff`:t.endsWith(`.otf`)?`opentype`:`truetype`};n.textContent=(t.customFonts||[]).map(e=>{let t=r(e.url),n=e.name.replace(/['"\\]/g,``),i=e.weight===`variable`?`100 900`:`normal`;return`@font-face {
          font-family: "${n}";
          src: url("${e.url}") format("${t}");
          font-weight: ${i};
          font-style: normal italic;
          font-display: swap;
        }`}).join(`
`)},[t.customFonts]),(0,X.jsxs)(`div`,{className:`relative w-full h-screen overflow-hidden font-sans transition-colors duration-500 ${e===`dark`?`grid-bg text-white`:`grid-bg-light text-slate-900`}`,children:[(0,X.jsx)(Qe,{}),(0,X.jsxs)(`div`,{className:`relative z-10 w-full h-full pt-14 overflow-hidden`,children:[(0,X.jsx)(we,{}),(0,X.jsx)(Ce,{}),(0,X.jsx)(je,{})]})]})}var et=$e;(0,pe.createRoot)(document.getElementById(`root`)).render((0,X.jsx)(K.StrictMode,{children:(0,X.jsx)(et,{})}));